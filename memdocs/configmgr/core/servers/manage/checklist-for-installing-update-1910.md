---
title: Контрольный список для версии 1910
titleSuffix: Configuration Manager
description: См. дополнительные сведения о действиях, которые необходимо выполнить перед обновлением до Configuration Manager версии 1910.
ms.date: 12/20/2019
ms.prod: configuration-manager
ms.technology: configmgr-core
ms.topic: conceptual
ms.assetid: 9afb4452-9e58-40eb-bfd8-cbf9042a2790
author: mestew
ms.author: mstewart
manager: dougeby
ms.openlocfilehash: 6781f973fb281a6d305d642ac1e29b430480f241
ms.sourcegitcommit: bbf820c35414bf2cba356f30fe047c1a34c5384d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/21/2020
ms.locfileid: "81695162"
---
# <a name="checklist-for-installing-update-1910-for-configuration-manager"></a>Контрольный список для установки обновления 1910 для Configuration Manager

*Область применения: Configuration Manager (Current Branch)*

При использовании текущего ответвления Configuration Manager можно установить обновление в консоль для версии 1910 для обновления иерархии по сравнению с предыдущей версией. <!-- baseline only statement:(Because version 1902 is also available as [baseline media](updates.md#a-namebkmkbaselinesa-baseline-and-update-versions), you can use the installation media to install the first site of a new hierarchy.)-->

Чтобы получить обновление для версии 1910, необходимо использовать точку подключения службы на сайте верхнего уровня вашей иерархии. Роль системы сайта может находиться как в оперативном, так и в автономном режиме. Чтобы скачать обновление, если ваша точка подключения службы находится в автономном режиме, [используйте средство подключения службы](use-the-service-connection-tool.md).<!-- SCCMDocs#1946 -->

После того как иерархия загрузит пакет обновления от корпорации Майкрософт, его можно будет найти в консоли. В рабочей области **Администрирование** выберите узел **Обновления и обслуживание**.

- Если обновление имеет состояние **Доступно**, оно готово к установке. Перед установкой версии 1910 ознакомьтесь со следующей информацией [об установке обновления 1910](#about-installing-update-1910) и [контрольным списком](#checklist) настроек, которые необходимо выполнить перед началом обновления.

- Если обновление имеет состояние **Загружается**, которое не меняется, просмотрите файлы **hman.log** и **dmpdownloader.log**, чтобы проверить наличие ошибок.

    - Файл dmpdownloader.log может означать, что процесс dmpdownloader ожидает окончания определенного интервала перед проверкой на наличие обновлений. Чтобы повторно начать загрузку распространяемых файлов обновления, перезапустите службу **SMS_Executive** на сервере сайта.

    - Ещё одна распространенная проблема при загрузке возникает, когда настройки прокси-сервера запрещают загрузку с `silverlight.dlservice.microsoft.com`, `download.microsoft.com` и `go.microsoft.com`.

Дополнительные сведения об установке обновлений см. в разделе [Обновления в консоли и обслуживание](updates.md#bkmk_inconsole).

Дополнительные сведения о версиях Current Branch см. в разделе [Базовые и обновленные версии](updates.md#bkmk_Baselines).


## <a name="about-installing-update-1910"></a>Об установке обновления 1910

### <a name="sites"></a>Сайты

Установка обновления 1910 на сайт верхнего уровня вашей иерархии. Начните установку с центрального сайта администрирования (CAS) или с первичного автономного сайта. После установки обновления на сайте верхнего уровня дочерние сайты обновляются в указанном далее порядке.

- Дочерние первичные сайты устанавливают обновление автоматически после завершения установки обновлений CAS. Для управления временем установки обновлений можно использовать периоды обслуживания. Дополнительные сведения см. в статье [Service windows for site servers](service-windows.md) (Периоды обслуживания для серверов сайта).

- После того как на родительском первичном сайте завершится установка обновления, вручную обновите вторичные сайты через консоль Configuration Manager. Автоматическое обновление серверов вторичных сайтов не поддерживается.

### <a name="site-system-roles"></a>Роли систем сайта

Если сервер сайта устанавливает обновление, он автоматически обновляет все роли системы сайта. Эти роли находятся на сервере сайта или установлены на удаленных серверах. Перед установкой обновления убедитесь, каждый сервер системы сайта отвечает актуальным предварительным требованиям для новой версии обновления.

### <a name="configuration-manager-consoles"></a>Консоли Configuration Manager

При первом использовании консоли Configuration Manager после завершения обновления появится запрос на обновление этой консоли. Можно также запустить программу установки Configuration Manager на компьютере, где размещена консоль, и выбрать параметр для обновления консоли. Обновление для консоли следует устанавливать как можно быстрее. Дополнительные сведения см. в статье [Установка консоли Configuration Manager](../deploy/install/install-consoles.md).

> [!IMPORTANT]  
> При установке обновления в CAS следует помнить о следующих ограничениях и задержках, которые существуют до тех пор, пока все дочерние первичные сайты также не завершат установку обновления.
>
> - Не запускаются **клиентские обновления**. Сюда относится автоматическое обновление клиентов и подготовительных клиентов. Кроме того, вы не сможете продвигать предварительных клиентов до производственных, пока последний сайт не завершит установку обновления. После завершения установки обновления последним сайтом, обновления клиентов запускаются в зависимости от настроек.
> - **Новые функции**, которые включаются при обновлении, недоступны. Таким образом предотвращается репликация данных CAS, связанных с этой функцией, на сайт, который еще не установил поддержку этой функции. После установки обновления на всех первичных сайтах, эта функция становится доступной для использования.
> - **Ссылки на репликации** между CAS и дочерними первичными сайтами отображаются как не обновленные. Это состояние отображается в состоянии установки обновления как *Выполнено с предупреждением* для инициализации мониторинга репликации. В рабочей области **Мониторинг** в консоли это состояние отображается как *Ссылка настраивается*.

### <a name="early-update-ring"></a>Цикл ранних обновлений

<!-- SCCMDocs#1397 -->

По состоянию на 20 декабря 2019 года версия 1910 предоставляется всем клиентам как глобально доступная для установки. Если вы уже выбрали цикл ранних обновлений, ознакомьтесь с обновлением текущей версии этой ветви.

<!--

At this time, version 1910 is released for the early update ring. To install this update, you need to opt-in. The following PowerShell script adds your hierarchy or standalone primary site to the early update ring for version 1910:

[Version 1910 opt-in script](https://go.microsoft.com/fwlink/?linkid=2099733) <!-- This fwlink points to the script package on the Download Center, don't change the link here! Make any changes to the fwlink target -->

<!--
Microsoft digitally signs the script, and bundles it inside a signed self-extracting executable.

> [!Note]  
> The version 1910 update is only applicable to sites running version 1806 or later.

To opt-in to the early update ring:

1. Open Windows PowerShell and **Run as administrator**
1. Run the **EnableEarlyUpdateRing1910.ps1** script, using the following syntax:

    `EnableEarlyUpdateRing1910.ps1 <SiteServer_Name> | SiteServer_IP>`

    Where `SiteServer` refers to the central administration site or standalone primary site server. For example, `EnableEarlyUpdateRing1910.ps1 cmprimary01`

1. Check for updates. For more information, see [Get available updates](install-in-console-updates.md#get-available-updates).

The version 1910 update should now be available in the console.

> [!Important]  
> This script only adds your site to the early update ring for version 1910. It's not a permanent change.
-->

## <a name="checklist"></a>Контрольный список

### <a name="all-sites-run-a-supported-version-of-configuration-manager"></a>На всех сайтах выполняется поддерживаемая версия Configuration Manager

На каждом сервере сайта в иерархии должна выполняться одна и та же версия Configuration Manager, прежде чем можно будет начать установку обновления 1910. Для обновления до версии 1910 необходимо использовать версию 1806 или более поздние.

### <a name="review-the-status-of-your-product-licensing"></a>Проверка состояния лицензирования продукта

Для установки этого обновления требуется действующее соглашение Software Assurance (SA) или эквивалентные права по подписке. При обновлении сайта на странице **Лицензирование** предлагается подтвердить **дату истечения срока действия Software Assurance**.

Это необязательное значение. Его можно использовать для напоминания о предстоящем завершении срока действия лицензии. Эта дата отображается при установке последующих обновлений. Возможно, это значение было указано ранее во время работы программы установки или установки обновления. Это значение можно также указать в консоли Configuration Manager. В рабочей области **Администрирование** разверните узел **Конфигурация сайта** и выберите **Сайты**. На ленте щелкните **Параметры иерархии** и перейдите на вкладку **Лицензирование**.

Дополнительные сведения см. в статье [Лицензирование и ветви](../../understand/learn-more-editions.md).

### <a name="review-microsoft-net-versions"></a>Проверка версий Microsoft .NET

При установке этого обновления сайтом, когда минимальное требование .NET Framework 4.5 не установлено, Configuration Manager автоматически устанавливает .NET Framework 4.5.2. Если этот необходимый компонент еще не установлен, сайт устанавливает его на каждом сервере, где размещается одна из следующих ролей системы сайта:

- Точка управления
- Точка подключения службы
- Прокси-точка регистрации.
- Точка регистрации

Этот процесс установки может перевести сервер системы сайта в состояние ожидания перезагрузки и сообщать об ошибках средству просмотра состояния компонентов Configuration Manager. Кроме того, приложения .NET на сервере могут подвергаться случайным сбоям, пока вы не перезапустите сервер.

Дополнительные сведения см. в разделе  [Необходимые компоненты для сайта и системы сайта](../../plan-design/configs/site-and-site-system-prerequisites.md).

### <a name="review-the-version-of-the-windows-adk-for-windows-10"></a>Проверка версии Windows ADK для Windows 10

Версия комплекта средств для развертывания и оценки Windows 10 (ADK) должна поддерживаться Configuration Manager версии 1910. Дополнительные сведения о поддерживаемых версиях Windows ADK см. в разделе [Windows 10 ADK](../../plan-design/configs/support-for-windows-10.md#windows-10-adk). Если вам нужно обновить Windows ADK, сделайте это до начала обновления Configuration Manager. Так вы обеспечите автоматическое обновление загрузочных образов по умолчанию до последней версии Windows PE. После обновления сайта вручную обновите все настраиваемые загрузочные образы.

Если вы обновляете сайт перед обновлением Windows ADK, см. раздел [Обновление точек распространения с использованием образа загрузки](../../../osd/get-started/manage-boot-images.md#update-distribution-points-with-the-boot-image).

### <a name="review-sql-server-native-client-version"></a>Проверка версии SQL Server Native Client

Установите минимальную версию собственного клиента сервера SQL Server 2012, которая включает поддержку TLS 1.2. Дополнительные сведения см. в статье [Список проверок на наличие необходимых компонентов для Configuration Manager](../deploy/install/list-of-prerequisite-checks.md#sql-server-native-client).

### <a name="review-the-site-and-hierarchy-status-for-unresolved-issues"></a>Проверка состояния сайта и иерархии на наличие неразрешенных проблем

Обновление сайта может завершиться сбоем из-за существующих проблем, связанных с операциями. Перед обновлением сайта решите все проблемы эксплуатации для следующих систем:  

- сервер сайта;  
- Сервер базы данных сайта  
- Удаленные роли системы сайта на других серверах

Дополнительные сведения см. в статье  [Использование оповещений и системы состояния](use-alerts-and-the-status-system.md).

### <a name="review-file-and-data-replication-between-sites"></a>Проверка репликации файлов и данных между сайтами

Убедитесь в том, что репликация файлов и базы данных между сайтами действует и является актуальной. Задержки или невыполненные операции в любом из них могут помешать успешному обновлению.

#### <a name="database-replication"></a>репликацию базы данных

Для [Репликации базы данных](../../plan-design/hierarchy/database-replication.md), чтобы помочь устранить проблемы до запуска обновления, используйте **Анализатор ссылок репликации** (RLA). Дополнительные сведения см. в разделе[Мониторинг репликации базы данных](monitor-replication.md).

Используйте RLA, чтобы ответить на следующие вопросы:

- Находится ли репликация на группу в хорошем состоянии?
- Есть ли какие-либо ухудшенные ссылки?
- Есть ли ошибки?

Если есть невыполненные задания, подождите, пока они не исчезнут. Наличие большого количества невыполненных заданий, таких как миллионы записей, значит, что ссылка находится в плохом состоянии. Перед обновлением сайта устраните проблему репликации. Если вам нужна дополнительная помощь, обратитесь в Службу поддержки Майкрософт.<!-- 2838129 -->

#### <a name="file-based-replication"></a>файловую репликацию

Для [Репликации на основе файлов](../../plan-design/hierarchy/file-based-replication.md) проверьте все почтовые ящики на наличие невыполненных работ на отправляющем и получающем сайтах. При наличии большого количества задержанных или ожидающих заданий репликации, дождитесь их завершения.<!-- SCCMDocs#1792 -->

- На отправляющем сайте проверьте **sender.log**.
- На принимающем сайте проверьте **despooler.log**.

### <a name="install-all-applicable-critical-windows-updates"></a>Установка всех доступных важных обновлений Windows

Перед установкой обновления для Configuration Manager установите все важные обновления операционной системы для каждой соответствующей системы сайта. В число таких серверов входит сервер сайта, сервер базы данных сайта и роли удаленной системы сайта. Если устанавливаемое обновление требует перезагрузки, перезагрузите соответствующие серверы перед началом обновления.

### <a name="disable-database-replicas-for-management-points-at-primary-sites"></a>Отключение реплик базы данных для точек управления на первичных сайтах

Configuration Manager не может обновить первичный сайт с включенными репликами баз данных для точек управления. Перед установкой обновления для Configuration Manager отключите репликацию базы данных.

Дополнительные сведения см. в статье [Реплики базы данных для точек управления](../deploy/configure/database-replicas-for-management-points.md).

### <a name="set-sql-server-alwayson-availability-groups-to-manual-failover"></a>Настройка групп доступности SQL Server AlwaysOn для отработки отказа вручную

Если вы используете группу доступности, настройте для нее отработку отказа вручную перед запуском установки обновления. После обновления сайта можно восстановить автоматическую отработку отказа. Дополнительные сведения см. в статье  [SQL Server AlwaysOn для базы данных сайта](../deploy/configure/sql-server-alwayson-for-a-highly-available-site-database.md).

### <a name="disable-site-maintenance-tasks-at-each-site"></a>Отключение задачи обслуживания сайта на каждом сайте

Перед установкой обновления отключите все задачи обслуживания сайта, которые могут запускаться в то время, когда активен процесс обновления. Ниже перечислены некоторые из этих задач.

- Резервное копирование сервера сайта
- Удаление устаревших операций клиента
- Удаление устаревших данных обнаружения

Если во время установки обновления выполняется задача обслуживания базы данных сайта, то обновление может завершиться сбоем. Прежде чем отключить задачу, запишите ее расписание, чтобы восстановить конфигурацию после установки обновления.

Дополнительные сведения см. в статьях  [Задачи обслуживания](maintenance-tasks.md)  и [Справочник по задачам обслуживания](reference-for-maintenance-tasks.md).

### <a name="temporarily-stop-any-antivirus-software"></a>Временная остановка всего антивирусного программного обеспечения

Перед обновлением сайта остановите антивирусное программное обеспечение на серверах Configuration Manager. Антивирусное программное обеспечение может блокировать некоторые обновляемые файлы, что приведет к сбою обновления. <!--SMS.503481-->

### <a name="create-a-backup-of-the-site-database"></a>Создание резервной копии базы данных сайта

Перед обновлением сайта создайте резервную копию базы данных сайта в CAS и на первичных сайтах. Ее можно использовать для аварийного восстановления.

Дополнительные сведения см. в статье  [Резервное копирование и восстановление](backup-and-recovery.md).

### <a name="back-up-customized-files"></a>Резервное копирование пользовательских файлов

Если вы (или продукт стороннего производителя) настраиваете какие-либо файлы конфигурации Configuration Manager, сохраните копию настроек.

Например, вы можете добавить пользовательские записи в файл **osdinjection.xml** в папке `bin\X64` каталога установки Configuration Manager. При обновлении Configuration Manager эти настройки не сохранятся. Вам нужно будет повторно применить настройки.

### <a name="plan-for-client-piloting"></a>Планирование пилотного развертывания клиента

При установке обновления сайта, которое также обновляет клиента, перед обновлением всех производственных клиентов протестируйте это новое обновление на предварительном клиенте. Чтобы использовать эту опцию, настройте сайт на поддержку автоматических обновлений для предварительного этапа перед началом установки обновления.

Дополнительные сведения см. в статьях  [Обновление клиентов](../../clients/manage/upgrade/upgrade-clients.md)  и [Проверка обновления клиента в предварительной коллекции](../../clients/manage/upgrade/test-client-upgrades.md).

### <a name="plan-to-use-service-windows"></a>Планирование периодов обслуживания

Используйте периоды обслуживания, чтобы определить период времени для установки обновлений на сервере сайта. Это поможет контролировать время установки обновлений на сайты в иерархии. Дополнительные сведения см. в статье  [Периоды обслуживания для серверов сайта](service-windows.md).

### <a name="review-supported-extensions"></a>Проверка поддерживаемых расширений

<!--SCCMdocs#587-->
Если вы расширяете Configuration Manager другими продуктами от корпорации Майкрософт или ее партнеров, убедитесь, что эти продукты поддерживают версию 1910. Эту информацию можно получить у поставщика продукта. Например, см. [заметки о выпуске](../../../mdt/release-notes.md) Microsoft Deployment Toolkit.

### <a name="remove-intune-subscription-hybrid-mdm"></a>Удаление подписки Intune (гибридная служба MDM)

<!-- SCCMDocs-pr#4253 -->
Срок действия предложения гибридной службы MDM истекает 1 сентября 2019 г. Если ваш сайт Configuration Manager имеет подписку Microsoft Intune, ее нужно удалить. Дополнительные сведения см. в статье [Удаление гибридной службы MDM](../../../mdm/understand/what-happened-to-hybrid.md#remove-hybrid-mdm).

### <a name="run-the-setup-prerequisite-checker"></a>Запуск средства проверки готовности к установке

Когда в консоли появится список доступных обновлений **Доступно**, вы можете запустить средство проверки готовности перед установкой обновления. (При установке обновления на сайт средство запустится снова.)

Чтобы запустить средство проверки готовности из консоли, перейдите в рабочую область **Администрирование** и выберите узел **Обновления и обслуживание**. Выберите пакет обновления **Configuration Manager 1910**, а далее нажмите **Запустить проверку на наличие необходимых компонентов** в ленте.

Дополнительные сведения см. в подразделе **Шаг 2. Перед установкой обновления запустите средство проверки готовности** раздела [Перед установкой обновлений в консоли](install-in-console-updates.md#bkmk_beforeinstall).

> [!IMPORTANT]  
> Когда средство проверки готовности запускается, этот процесс обновляет некоторые исходные файлы продукта, которые используются для выполнения задач обслуживания сайта. Поэтому, если вам нужно выполнить задачу обслуживания после проверки готовности, но перед установкой обновления, запустите программу установки Configuration Manager  **Setupwpf.exe**  из папки CD.Latest на сервере сайта.

### <a name="update-sites"></a>Обновление сайтов

Теперь вы готовы начать установку обновления для иерархии. Дополнительные сведения об установке обновления см. в статье [Установка обновлений в консоли](install-in-console-updates.md#bkmk_install).

Вы можете запланировать установку обновления во внерабочее время. Определите, когда процесс будет оказывать наименьшее влияние на бизнес-операции. Установка обновления и его действия приводят к переустановке компонентов сайта и ролей системы сайта.

Дополнительные сведения см. в статье  [Обновления для Configuration Manager](updates.md).


## <a name="post-update-checklist"></a>Контрольный список действий, выполняемых после обновления

После обновления сайта используйте следующий контрольный список для выполнения типичных задач и настроек.

### <a name="confirm-version-and-restart-if-necessary"></a>Подтверждение версии и перезапуск (если нужно)

Убедитесь, что каждый сервер сайта и системная роль сайта обновлены до версии 1910. В консоли в рабочей области **Администрирование** добавьте столбец **Версии** в узлы **Сайты** и **Точки распространения**. При необходимости роль системы сайта автоматически переустанавливается для обновления до новой версии.

Удаленные системы сайта, обновление которых не прошло успешно, можно попробовать перезагрузить. Проверьте инфраструктуру сайта и убедитесь, что соответствующие серверы сайта и удаленные серверы системы сайта успешно перезапущены. Как правило, серверы сайта перезапускаются, только если Configuration Manager устанавливает .NET в качестве необходимого компонента для роли системы сайта.

### <a name="confirm-site-to-site-replication-is-active"></a>Убедитесь, что межсайтовая репликация активна

В консоли Configuration Manager перейдите к следующим расположениям, чтобы проверить состояние и активность репликации.  

- Рабочая область **Мониторинг**, узел **Иерархия сайтов**  

- Рабочая область **Мониторинг**, узел **Репликация базы данных**  

Дополнительные сведения см. в следующих статьях:  

- [Мониторинг иерархии и инфраструктуры репликации](monitor-hierarchy.md)
- [Сведения об анализаторе канала репликации](monitor-replication.md#BKMK_RLA)  

### <a name="update-configuration-manager-consoles"></a>Обновление консолей Configuration Manager

Обновите все удаленные консоли Configuration Manager до той же версии. Обновить консоль предлагается в следующих случаях:  

- При открытии консоли.  

- При переходе на новый узел в консоли.  

### <a name="reconfigure-database-replicas-for-management-points"></a>Перенастройте реплики баз данных для точек управления

После обновления первичного сайта заново настройте в реплике базы данных точки управления, которые вы удалили перед обновлением сайта. Дополнительные сведения см. в статье [Реплики базы данных для точек управления](../deploy/configure/database-replicas-for-management-points.md).  

### <a name="reconfigure-sql-server-alwayson-availability-groups"></a>Перенастройка групп доступности AlwaysOn в SQL Server

Если вы используете группу доступности, установите автоматическую настройку отработки отказа. Дополнительные сведения см. в статье [SQL Server AlwaysOn для базы данных сайта](../deploy/configure/sql-server-alwayson-for-a-highly-available-site-database.md).<!-- SCCMDocs #1366 -->

### <a name="reconfigure-any-disabled-maintenance-tasks"></a>Перенастройте все отключенные задачи обслуживания

Если перед установкой обновления вы отключили на сайте [задачи обслуживания](maintenance-tasks.md) базы данных, снова настройте их. используя те же параметры, которые использовались до обновления.  

### <a name="update-clients"></a>Обновление клиентов

Если перед установкой обновления вы настроили подготовку клиентов, обновите клиенты согласно составленному плану. Дополнительные сведения см. в разделе [Обновление клиентов для компьютеров Windows](../../clients/manage/upgrade/upgrade-clients-for-windows-computers.md).  

### <a name="third-party-extensions"></a>Расширения от сторонних производителей

Если в Configuration Manager используются расширения, обновите их до последней версии для поддержки Configuration Manager версии 1910.

### <a name="update-custom-boot-images-and-media"></a>Обновление настраиваемых образов загрузки и носителей

<!--SCCMDocs issue 775-->

Используйте действие **Обновить точки распространения** для всех используемых образов загрузки — как стандартных, так и настраиваемых. Это действие гарантирует, что клиенты могут использовать последнюю версию. Даже если отсутствует новая версия Windows ADK, при обновлении могут изменяться компоненты клиента Configuration Manager. Если вы не обновите образы загрузки и носители, развертывания последовательности задач на устройствах могут завершиться сбоем.

При обновлении сайта Configuration Manager автоматически обновляет *стандартные* образы загрузки. Но обновленное содержимое не распространяется в точки распространения автоматически. Примените действие **Обновить точки распространения** для конкретных образов загрузки, когда вы будете готовы распространить это содержимое в сети организации.

Завершив обновление сайта, вручную обновите все *настраиваемые* образы загрузки. Это действие помещает в образ загрузки последние версии компонентов клиента, при необходимости обновляет его до текущей версии Windows PE, а затем публикует содержимое в точки распространения.

См. дополнительные сведения об [обновлении точек распространения с помощью загрузочного образа](../../../osd/get-started/manage-boot-images.md#update-distribution-points-with-the-boot-image).
