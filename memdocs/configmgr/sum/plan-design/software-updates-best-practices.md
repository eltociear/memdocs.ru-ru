---
title: Рекомендации по обновлениям программного обеспечения
titleSuffix: Configuration Manager
description: Используйте эти рекомендации по обновлению программного обеспечения в Configuration Manager.
author: mestew
ms.author: mstewart
manager: dougeby
ms.date: 07/30/2018
ms.topic: conceptual
ms.prod: configuration-manager
ms.technology: configmgr-sum
ms.assetid: 6d20389a-9de2-4a64-bced-9fc4fa519174
ms.openlocfilehash: eb9a675970abb581a793208c73506e1e94cc6f63
ms.sourcegitcommit: 214fb11771b61008271c6f21e17ef4d45353788f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2020
ms.locfileid: "82906690"
---
# <a name="best-practices-for-software-updates-in-configuration-manager"></a>Рекомендации по обновлению программного обеспечения в Configuration Manager

*Область применения: Configuration Manager (Current Branch)*

Эта статья включает рекомендации по обновлению программного обеспечения в Configuration Manager. Информация сведена в рекомендации для начальной установки и рекомендации для текущих операций.  



## <a name="installation-best-practices"></a><a name="bkmk_install"></a> Рекомендации по установке  

Используйте приведенные ниже рекомендации при установке обновлений программного обеспечения в Configuration Manager.  


### <a name="use-a-shared-wsus-database-for-software-update-points"></a><a name="bkmk_shared-susdb"></a> Использование общей базы данных WSUS для точек обновления программного обеспечения  

При установке нескольких точек обновления программного обеспечения на первичном сайте следует использовать одну и те же базу данных WSUS для всех точек обновления программного обеспечения в одном лесу Active Directory. Совместное использование одной и той же базы данных во многом помогает устранить эффект снижения производительности клиентов и сети, который может стать заметным при переключении клиентов на новую точку обновления ПО. Однако данный способ не позволяет полностью устранить этот эффект. Переключение клиента на новую точку обновления ПО, которая использует ту же самую базу, что и старая точка, все равно приводит к сканированию новой точки для обнаружения различий между ними. Однако масштабы этого сканирования намного меньше по сравнению с той ситуацией, когда у сервера WSUS есть собственная база данных. Дополнительные сведения о переключении точек обновления программного обеспечения см. в разделе [Переключение точек обновления программного обеспечения](plan-for-software-updates.md#BKMK_SUPSwitching).  

> [!IMPORTANT]  
>  При использовании общей базы данных WSUS для точек обновления программного обеспечения также необходимо предоставить общий доступ к локальным папкам содержимого службы WSUS.  

Дополнительные сведения о совместном использовании базы данных WSUS см. в следующих записях блога:  

- [Как реализовать совместно используемую базу данных SUSDB для точек обновления программного обеспечения Configuration Manager](https://techcommunity.microsoft.com/t5/Configuration-Manager-Archive/How-to-implement-a-shared-SUSDB-for-Configuration-Manager/ba-p/274103)  

- [Рекомендации по совместному использованию базы данных содержимого несколькими экземплярами WSUS при использовании Configuration Manager](https://docs.microsoft.com/archive/blogs/wsus/considerations-for-multiple-wsus-instances-sharing-a-content-database-when-using-system-center-configuration-manager-but-without-network-load-balancing-nlb).


### <a name="when-configuration-manager-and-wsus-use-the-same-sql-server-configure-one-to-use-a-named-instance-and-the-other-to-use-the-default-instance"></a><a name="bkmk_sql-instance"></a> Если Configuration Manager и WSUS используют один и тот же сервер SQL Server, настройте один из этих компонентов на использование именованного экземпляра, а другой — на использование экземпляра по умолчанию  

Если базы данных Configuration Manager и WSUS используют один и тот же экземпляр SQL Server, вы не можете быстро распределить использование ресурсов между двумя приложениями. Используйте различные экземпляры SQL Server для Configuration Manager и WSUS. Эта конфигурация позволяет значительно проще устранять неполадки и диагностировать проблемы, связанные с использованием ресурсов, которые могут возникать в каждом приложении.  


### <a name="specify-the-store-updates-locally-setting"></a><a name="bkmk_store-local"></a> Укажите параметр "Хранить обновления локально"  

При установке WSUS выберите параметр **Хранить обновления локально**. При выборе этого параметра WSUS скачивает условия лицензии, связанные с обновлениями программного обеспечения. Условия лицензии скачиваются во время синхронизации и сохраняются на локальном жестком диске сервера WSUS. Если этот параметр не выбран, клиентские компьютеры могут не пройти проверку соответствия для обновлений программного обеспечения с этими условиями лицензии. **Диспетчер синхронизации служб WSUS** точки обновления программного обеспечения по умолчанию выполняет проверку того, что этот параметр установлен, каждые 60 минут.  



## <a name="operational-best-practices"></a><a name="bkmk_operation"></a> Рекомендации по использованию  

Руководствуйтесь следующими рекомендациями при работе с обновлениями программного обеспечения.  


### <a name="limit-software-updates-to-1000-in-a-single-software-update-deployment"></a><a name="bkmk_object-limit"></a> Укажите значение 1000 в качестве максимального количества обновлений для одного развертывания обновлений  

Установите ограничение количества обновлений в 1000 для каждого развертывания обновлений программного обеспечения. При создании правила автоматического развертывания убедитесь, что количество обновлений программного обеспечения, выбранных в результате применения указанных критериев, не превышает 1000. При развертывании обновлений вручную выбирайте не более 1000 обновлений.  


### <a name="create-a-new-software-update-group-each-time-an-adr-runs-for-patch-tuesday-and-for-general-deployments"></a><a name="bkmk_new-group"></a> Создавайте группу обновления программного обеспечения каждый раз при выполнении правила автоматического развертывания для комплексной установки исправлений и для общих развертываний  

На количество обновлений программного обеспечения в развертывании существует ограничение в 1000 обновлений. При создании правила автоматического развертывания указывается, должна ли использоваться существующая группа обновления или следует создавать новую группу обновления при каждом выполнении правила. Если в правиле автоматического развертывания вы указали критерии, которые приводят к нескольким обновлениям программного обеспечения, и правило выполняется согласно расписанию, создайте новую группу обновлений при каждом выполнении правила. Это предотвратит превышение ограничения в 1000 обновлений программного обеспечения для одного развертывания.  


### <a name="use-an-existing-software-update-group-for-adrs-for-endpoint-protection-definition-updates"></a><a name="bkmk_same-group"></a> Используйте существующую группу обновления программного обеспечения для применения правил автоматического развертывания для обновления определений Endpoint Protection  

Если вы регулярно развертываете определения Endpoint Protection с использованием правила автоматического развертывания, всегда используйте существующую группу обновления программного обеспечения. В противном случае со временем может быть создано несколько сотен групп обновления программного обеспечения. Как правило, издатели обновлений определений указывают срок действия обновлений таким образом, чтобы он завершался после замены обновления четырьмя новыми обновлениями. Поэтому группа обновления программного обеспечения, созданная с помощью правила автоматического развертывания, никогда не будет включать более четырех обновлений определений от данного издателя (одно активное и три замененных).  



## <a name="see-also"></a>См. также  
 [Планирование обновлений программного обеспечения](plan-for-software-updates.md)
