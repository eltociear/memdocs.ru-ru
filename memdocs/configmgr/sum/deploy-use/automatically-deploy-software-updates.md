---
title: Автоматическое развертывание обновлений программного обеспечения
titleSuffix: Configuration Manager
description: Выполняйте автоматическое развертывание обновлений программного обеспечения, используя правила автоматического развертывания.
author: mestew
ms.author: mstewart
manager: dougeby
ms.date: 04/21/2020
ms.topic: conceptual
ms.prod: configuration-manager
ms.technology: configmgr-sum
ms.assetid: b27682de-adf8-4edd-9572-54886af8f7fb
ms.openlocfilehash: fc2f2644ff042598d3df0ddfc1fd9d4d1adcc34a
ms.sourcegitcommit: 214fb11771b61008271c6f21e17ef4d45353788f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2020
ms.locfileid: "82906774"
---
#  <a name="automatically-deploy-software-updates"></a>Автоматическое развертывание обновлений программного обеспечения  

*Область применения: Configuration Manager (Current Branch)*

Правило автоматического развертывания (ADR) можно использовать вместо добавления новых обновлений в существующую группу обновления программного обеспечения. Обычно правила ADR используются для ежемесячных обновлений программного обеспечения (во второй вторник каждого месяца) и для управления обновлениями определений Endpoint Protection. Если вам нужна помощь в определении подходящего метода развертывания, см. сведения в статье [Развертывание обновлений программного обеспечения](deploy-software-updates.md).


##  <a name="create-an-automatic-deployment-rule-adr"></a><a name="BKMK_CreateAutomaticDeploymentRule"></a> Создание правила автоматического развертывания (ADR)  
Можно автоматически утверждать и развертывать обновления программного обеспечения с помощью правил автоматического развертывания. Правило может добавлять обновления программного обеспечения в новую группу обновлений программного обеспечения при каждом выполнении правила или добавлять обновления программного обеспечения в существующую группу. Когда правило выполняется и добавляет обновления программного обеспечения в существующую группу, оно удаляет все обновления из группы. Затем оно добавляет в группу обновления, которые удовлетворяют заданным условиям. 

> [!WARNING]  
>  Перед первым созданием правила автоматического развертывания убедитесь, что на сайте выполнена синхронизация обновлений программного обеспечения. Этот шаг важен при запуске Configuration Manager на языке, отличном от английского. Перед первой синхронизацией классы обновлений отображаются на английском языке, а после синхронизации обновлений — на языке локализации. Правила, созданные до синхронизации обновлений программного обеспечения, могут неправильно работать после синхронизации из-за несовпадения текстовых строк.  


### <a name="process-to-create-an-adr"></a><a name="bkmk_adr-process"></a> Процесс создания правила автоматического развертывания  

1.  В консоли Configuration Manager перейдите в рабочую область **Библиотека программного обеспечения**, разверните пункт **Обновления программного обеспечения** и выберите узел **Правила автоматического развертывания**.  

2.  На ленте нажмите **Создать правило автоматического развертывания**.  

3.  На странице **Общие** мастера создания правил автоматического развертывания укажите перечисленные ниже параметры:  

    -   **Имя** — укажите имя правила автоматического развертывания. Имя должно быть уникальным, отражать цель правила и отличать его от других правил на сайте Configuration Manager.  

    -   **Описание**. Введите описание виртуального жесткого диска. Описание содержит краткую сводку правила и прочие важные сведения, помогающие отличить это правило от других. Описание — необязательное поле, его длина не может превышать 256 символов, по умолчанию оно остается пустым.  

    -   **Шаблон**: выберите шаблон развертывания, чтобы указать, следует ли применять ранее сохраненные конфигурации правила автоматического развертывания. Вы можете настроить шаблон развертывания, включив в него несколько стандартных свойств обновления, которые затем можно использовать при создании дополнительных правил автоматического развертывания. Эти шаблоны помогают сэкономить время и обеспечить единообразие схожих развертываний. Выберите один из следующих встроенных шаблонов развертывания обновлений программного обеспечения:  

         - Шаблон **Вторник установки исправлений** содержит общие параметры, используемые в ходе ежемесячного цикла развертывания обновлений ПО.  

         - Шаблон **Обновления клиента Office 365** предоставляет общие параметры, которые нужно использовать при развертывании обновлений для клиентов Office 365 профессиональный плюс.
             > [!Note]
             > Начиная с 21 апреля 2020 г. Office 365 профессиональный плюс переименовывается в **Приложения Microsoft 365 для предприятия**. Если в правилах автоматического развертывания используется свойство "Название", его необходимо изменить с 9 июня 2020 г. `Microsoft 365 Apps Update - Semi-annual Channel Version 1908 for x64 based Edition (Build 11929.50000)` — пример нового названия. Дополнительные сведения см. в статье [Изменение названия Office 365 профессиональный плюс](https://docs.microsoft.com/deployoffice/name-change).

         - Шаблон **Обновления для SCEP и антивирусной программы "Защитник Windows"** предоставляет общие параметры, используемые при развертывании обновлений определений Endpoint Protection.  

    -   **Коллекция**. Указывает целевую коллекцию для развертывания. Члены коллекции получают обновления программного обеспечения, заданные в развертывании.  

    -   Укажите, следует ли добавить обновления ПО в новую или существующую группу обновлений. В большинстве случаев следует выбрать создание новой группы обновления ПО при выполнении правила автоматического развертывания. Однако вы можете выбрать существующую группу, если правило выполняется по более агрессивному графику. Например, если правило обновления определений выполняется ежедневно, обновления ПО нужно добавить в существующую группу обновлений.  

    -   **Активировать развертывание после выполнения этого правила**. Укажите, следует ли включить развертывание обновления после выполнения правила автоматического развертывания. Выберите одно из следующих значений для этого параметра.  

        -   Когда вы включаете развертывание, обновления, удовлетворяющие условиям правила, добавляются в группу обновлений программного обеспечения. Содержимое обновлений программного обеспечения загружается при необходимости. Содержимое копируется в указанные точки распространения, и обновления развертываются на клиентских устройствах в целевой коллекции.  

        -   Если вы не включаете развертывание, обновления, удовлетворяющие условиям правила, добавляются в группу обновлений программного обеспечения. Содержимое развертывания обновления программного обеспечения загружается и передается на выбранные точки распространения. Сайт создает отключенное развертывание для группы обновлений программного обеспечения, чтобы предотвратить развертывание обновлений на клиентах. Это дает возможность подготовиться к развертыванию обновлений, проверить применимость обновлений, соответствующих условиям, а затем включить развертывание.  

4.  На странице **Параметры развертывания** настройте следующие параметры.  

    -   **Отправлять пакеты wake-on-lan, чтобы активировать клиенты для обязательного развертывания**. Укажите, следует ли использовать пробуждение по локальной сети к крайнему сроку. Режим пробуждения по локальной сети отправляет пакеты пробуждения на компьютеры, для которых требуется одно или несколько обновлений программного обеспечения из данного развертывания. Сайт выводит из спящего режима компьютеры, находящиеся в спящем режиме на момент окончания крайнего срока установки, чтобы могла начаться установка. Если находящимся в спящем режиме клиентам не требуются никакие обновления программного обеспечения в ходе развертывания, то эти клиенты не запускаются. По умолчанию этот параметр отключен. Для использования этого параметра необходимо настроить поддержку пробуждения по локальной сети на компьютерах и в сетях. Дополнительные сведения см. в статье [Настройка пробуждения по локальной сети](../../core/clients/deploy/configure-wake-on-lan.md).  

    -   **Уровень детализации**. Выберите уровень детализации для сообщений о состоянии применения обновлений, передаваемых клиентами.  

        > [!IMPORTANT]  
        >  Когда вы развертываете обновления для определений, установите уровень подробности отчетов **Только ошибки**, чтобы клиенты передавали только свои сообщения о состоянии в случае сбоя обновления определений. В противном случае клиенты будут передавать большое количество сообщений о состоянии, что может негативно повлиять на производительность сервера сайта.  
        
        > [!NOTE]  
        > Уровень детализации **Только ошибки** не отправляет сообщения о состоянии принудительного применения, необходимые для отслеживания ожидающих перезагрузок.

    -   **Условия лицензии**. Указывает, следует ли автоматически развертывать обновления ПО, снабженные условиями лицензии. Некоторые обновления ПО включают условия лицензии. При автоматическом развертывании обновлений ПО условия лицензии не отображаются на экране и пользователю не предлагается их принять. Можно автоматически развертывать все обновления независимо от наличия условий лицензии или же развертывать лишь те обновления, которые не сопровождаются условиями лицензии.  

         - Чтобы просмотреть условия лицензии обновления, выберите обновление в узле **Все обновления программного обеспечения** в рабочей области **Библиотека программного обеспечения**. На ленте щелкните **Просмотреть лицензию**.    

         - Чтобы найти обновления ПО с лицензионными соглашениями, можно добавить столбец **Условия лицензии** в область результатов в узле **Все обновления программного обеспечения**. Щелкните заголовок столбца для сортировки по обновлениям программного обеспечения с условиями лицензии.  

5.  На странице **Обновления программного обеспечения** настройте условия обновлений, получаемых правилом автоматического развертывания и добавляемых в группу обновлений.  

     - Одно правило автоматического развертывания может содержать до 1000 обновлений ПО.  

     - При необходимости выполните фильтрацию по размеру содержимого для обновлений программного обеспечения в правилах автоматического развертывания. Дополнительные сведения см. в статье [Configuration Manager и упрощенное обслуживание более старых версий ОС Windows](https://techcommunity.microsoft.com/t5/configuration-manager-archive/configuration-manager-and-simplified-windows-servicing-on-down/ba-p/274056).  

     - Начиная с версии 1910 вы можете использовать фильтр обновлений **Развернуто** для правил автоматического развертывания. Этот фильтр помогает определять новые обновления, которые может потребоваться развернуть в пилотной или тестовой коллекциях. Фильтр обновлений программного обеспечения также позволяет избежать повторного развертывания старых обновлений. 
         - Используя фильтр **Развернуто**, учитывайте, что обновление уже могло быть развернуто в другой коллекции, например в пилотной или тестовой. <!--4852033-->
     - Начиная с версии 1806 доступен фильтр свойств для **архитектуры**. Используйте этот фильтр, чтобы исключить менее распространенные архитектуры, такие как Itanium и ARM64. Помните, что существуют 32-разрядные (x86) приложения и компоненты, работающие в 64-разрядных (x64) системах. Если вы не уверены, что поддержка x86-приложений не нужна, то включите ее, как и при выборе x64-приложений.<!--1322266-->  

    > [!NOTE]  
    > Категория **Windows 10 версии 1903 и более поздних версий** была добавлен в Центр обновления Майкрософт как отдельный продукт, а не часть продукта **Windows 10**, как в случае более ранних версий. Это изменение требует выполнить ряд действий вручную, чтобы убедиться, что клиенты увидят эти обновления. Мы помогли снизить число действий вручную, которые необходимо выполнить для нового продукта в Configuration Manager версии 1906. Дополнительные сведения см. в разделе [Настройка продуктов для версий Windows 10](../get-started/configure-classifications-and-products.md#windows-10-version-1903-and-later). <!--4682946-->


6. На странице **Расписание оценки** укажите, следует ли включить запуск правила автоматического развертывания по расписанию. После включения нажмите кнопку **Настроить** , чтобы задать регулярное расписание.  

    - Настройка времени запуска в расписании зависит от местного времени компьютера, на котором запущена консоль Configuration Manager.  

    - Оценка правил автоматического развертывания может запускаться не чаще трех раз в день.  

    - Не задавайте в расписании оценки частоту, превышающую частоту синхронизации обновлений ПО. На этой странице показано расписание синхронизации точки обновления программного обеспечения, чтобы вам было проще определить частоту расписания оценки.  

    - Можно вручную запустить правило автоматического развертывания. Для этого выберите правило в узле **Правило автоматического развертывания** в консоли и нажмите **Выполнить** в ленте.  

    - Начиная с версии 1802 для правил автоматического развертывания можно запланировать оценку со смещением от базового дня. Например, если день установки исправлений фактически приходится на среду, расписание оценки для второй установки исправлений можно задать с месячным смещением на один день.<!--1357133-->  
        - Если запланированная оценка со смещением приходится на последнюю неделю месяца, оценка будет запланирована на последний день месяца, если выбранное смещение переходит на следующий месяц.<!--506731-->  
        ![Настраиваемое смещение расписания оценки правила автоматического развертывания относительно базового дня](./media/ADR-evaluation-schedule-offset.PNG)

   
7.  На странице **Расписание развертывания** настройте следующие параметры.  

    -   **Планирование оценки**. Укажите время, когда Configuration Manager оценивает доступное время и крайние сроки установки. Выберите время в формате UTC или местное время на компьютере, где запущена консоль Configuration Manager.  

          - Если выбрать **Местное время клиента**, а затем значение **Как можно быстрее** для параметра **Время доступности программного обеспечения**, то для получения сведения о доступности обновлений используется текущее время на компьютере, где запущена консоль Configuration Manager. Поведение будет таким же при выборе параметра **Крайний срок установки** и времени установки обновлений на клиент. Если клиент находится в другом часовом поясе, эти действия выполняются, когда время клиента достигает времени оценки.  

    -   **Время доступности программного обеспечения**. Выберите один из следующих параметров, чтобы указать, в какое время обновления ПО должны быть доступны клиентам.  

        -   **Как можно скорее**. Обновления программного обеспечения в ходе развертывания должны быть доступны для клиентов как можно скорее. Если вы выбрали этот параметр при создании развертывания, то Configuration Manager обновляет клиентскую политику. При следующем цикле опроса клиентских политик клиенты получают сведения о доступности развертывания и обновлений программного обеспечения для установки.  

        -   **Конкретное время**. Обновления программного обеспечения, которые включены в развертывание, должны быть доступны клиентам в определенный день и время. Если вы включили этот параметр при создании развертывания, то Configuration Manager обновляет клиентскую политику. При следующем цикле опроса клиентских политик клиенты получают сведения о наличии развертывания. Однако обновления программного обеспечения в этом развертывании недоступны для установки на клиентах до наступления настроенного дня и времени.  

    -   **Крайний срок установки**. Выберите один из следующих параметров, чтобы указать крайний срок установки для обновлений программного обеспечения в развертывании.  

        -   **Как можно скорее**. Выберите этот параметр, чтобы автоматически устанавливать обновления программного обеспечения в развертывании как можно скорее.  

        -   **Конкретное время**. Выберите этот параметр, чтобы автоматически устанавливать обновления программного обеспечения в развертывании в определенный день и время. Configuration Manager определяет крайний срок установки обновлений ПО путем добавления настроенного интервала **Конкретное время** к значению параметра **Время доступности программного обеспечения**.  

             - Фактический срок установки равен сумме отображаемого времени крайнего срока и произвольного отрезка времени длительностью до двух часов. Такой режим позволяет снизить нагрузку, которая возникла бы, если бы клиенты в коллекции начали устанавливать обновления одновременно.  

             - Чтобы отключить случайный выбор срока задержки при установке обязательных обновлений ПО, настройте параметр клиента в группе **Агент компьютера**, присвоив ему значение **Запретить случайный выбор срока**. Дополнительные сведения см. в статье о [параметрах клиента агента компьютера](../../core/clients/deploy/about-client-settings.md#computer-agent).  

    -  **Отложить применение этого развертывания в соответствии с пользовательскими предпочтениями вплоть до окончания льготного периода, определенного в настройках клиента**. Включите этот параметр, чтобы предоставить пользователям больше времени для установки необходимых обновлений программного обеспечения после наступления установленного крайнего срока.  

        - Такое поведение обычно требуется, если компьютер выключен в течение длительного времени и на него необходимо установить большое число приложений или обновлений ПО. Например, когда пользователь возвращается из отпуска, ему придется довольно долго ждать, пока клиент не установит просроченные развертывания.  

        - Настройте период отсрочки с помощью свойства **Льготный период для принудительного применения после крайнего срока развертывания (ч)** в параметрах клиента. Дополнительные сведения см. в разделе [Агент компьютера](../../core/clients/deploy/about-client-settings.md#computer-agent). Льготный период применения действует для всех развертываний, для которых установлен этот параметр и которые предназначены для устройств с развернутым параметром клиента.  

        - По достижении крайнего срока клиент устанавливает обновления программного обеспечения в первом нерабочем периоде, настроенном пользователем, в течение льготного периода. Тем не менее пользователь может открыть Центр программного обеспечения и установить обновления ПО в любой момент. По истечении льготного периода режим принудительного применения возвращается к нормальному поведению для просроченных развертываний.  

8. На странице **Взаимодействие с пользователем** настройте следующие параметры.  

    -   **Уведомления для пользователей**. Укажите, нужно ли отображать уведомление в центре программного обеспечения в установленное **время доступности программного обеспечения**. Этот параметр также определяет, следует ли уведомлять пользователей на клиентах.  

    -   **Действие при достижении крайнего срока установки**. Укажите действия при достижении крайнего срока развертывания обновлений программного обеспечения за пределами заданных периодов обслуживания. Здесь можно выбрать, следует ли устанавливать обновления программного обеспечения и выполнять перезагрузку системы после установки. Дополнительные сведения о периодах обслуживания см. в разделе [Использование периодов обслуживания](../../core/clients/manage/collections/use-maintenance-windows.md).  
        
        > [!Note]
        > Это применимо только в том случае, если период обслуживания настроен для клиентского устройства. Если он не определен на устройстве, обновление установки и перезагрузка всегда будут происходить после наступления крайнего срока.

    -   **Действие при перезагрузке устройства**. Укажите, следует ли блокировать перезапуск систем на серверах и рабочих станциях, если перезапуск требуется для завершения установки обновлений.  

        > [!WARNING]  
        >  Блокирование перезагрузки системы может быть полезно в серверных средах или если вы не хотите перезагружать целевые компьютеры по умолчанию. Но при таком выборе компьютеры находятся в небезопасном состоянии. Разрешение принудительного перезапуска позволяет гарантировать незамедлительное завершение установки обновления программного обеспечения.  

    -   **Обработка фильтра записи для устройств Windows Embedded**. Этот параметр управляет режимом установки на устройствах Windows Embedded, включенных с помощью фильтра записи. Выберите этот параметр, чтобы фиксировать изменения по наступлении крайнего срока установки или в течение периода обслуживания. При выборе этого параметра требуется перезагрузка, и изменения сохраняются на устройстве. В противном случае устанавливается обновление, которое применяется к временному наложению и позднее фиксируется.  

           -  При развертывании обновления программного обеспечения на устройстве Windows Embedded убедитесь в том, что устройство входит в коллекцию, для которой настроен период обслуживания.  

    - **Поведение цикла повторной оценки для развертывания обновлений ПО после перезапуска**. Выберите этот параметр, чтобы настроить развертывания обновлений программного обеспечения таким образом, чтобы клиенты выполняли проверку соответствия этих обновлений сразу после того, как клиент устанавливает их и перезапускается. Этот параметр позволяет клиенту выполнить проверку наличия дополнительных обновлений, которые стали применимыми после перезагрузки клиента, а затем устанавливает их в тот же период обслуживания.  

9. На странице **Оповещения** укажите, каким образом Configuration Manager будет создавать оповещения для этого развертывания. Просмотрите недавние оповещения об обновлениях ПО в Configuration Manager в узле **Обновления программного обеспечения** рабочей области **Библиотека программного обеспечения**. Если также используется System Center Operations Manager, настройте оповещения и для него.  

10. На странице **Параметры загрузки** настройте следующие параметры.  

    - Укажите, должны ли клиенты скачивать и устанавливать обновления, если они используют точку распространения из соседней группы границ сайта или группы границ сайта по умолчанию.  

    - Укажите, должны ли клиенты скачивать и устанавливать обновления из точки распространения в группе границ сайта по умолчанию, если содержимое для обновлений программного обеспечения недоступно в точках распространения в текущей или соседней группах границ.  

    - **Разрешить клиентам использовать содержимое совместно с другими клиентами из той же подсети**. Укажите, следует ли включить компонент BranchCache для загрузки содержимого. Дополнительные сведения см. в статье [BranchCache](../../core/plan-design/hierarchy/fundamental-concepts-for-content-management.md#branchcache). Начиная с версии 1802 BranchCache всегда включен на клиентах. Этот параметр удален, так как клиенты используют BranchCache, если эту технологию поддерживает точка распространения.  

    - **Если обновления программного обеспечения недоступны в точке распространения в текущей и соседней группах или группе границ сайта, скачать контент из Центра обновления Майкрософт**. Выберите этот параметр, чтобы подключенные к интрасети клиенты могли скачивать обновления ПО из Центра обновления Майкрософт, если обновления недоступны в точках распространения. Клиенты, подключенные к Интернету, всегда могут обратиться к Центру обновления Майкрософт, чтобы получить содержимое обновлений ПО.  

    - Укажите, следует ли разрешать клиентам загрузку после наступления крайнего срока установки, если клиенты используют интернет-соединения с поддержкой учета трафика. Иногда поставщики интернет-услуг взимают плату по объему передаваемых данных, если вы используете лимитное подключение к Интернету.  

    > [!NOTE]  
    >  Клиенты запрашивают расположение содержимого для обновлений программного обеспечения в развертывании у точки управления. Режим работы в ходе загрузки изменяется в зависимости от настройки точки распространения, пакета развертывания и параметров на этой странице.   

11. На странице **Пакет развертывания** выберите один из следующих параметров.  

    - **Выбрать пакет развертывания**. Добавьте эти обновления в существующий пакет развертывания.  

    - **Создать новый пакет развертывания**. Добавьте эти обновления в новый пакет развертывания. Настройте следующие дополнительные параметры.  

        -  **Имя** — Укажите имя пакета развертывания. Используйте уникальное имя, описывающее содержимое пакета. Его длина ограничена 50 символами.  

        -  **Описание**. Укажите описание, содержащее сведения о пакете развертывания. Длина необязательного описания ограничена 127 символами.  

        -  **Источник пакета**. Расположение исходных файлов обновления программного обеспечения. Введите сетевой путь к каталогу с исходными файлами (например, `\\server\sharename\path`) или выберите его с помощью кнопки **Обзор**. Перед переходом на следующую страницу создайте общую папку для исходных файлов пакета развертывания.  

            - Указанное расположение нельзя использовать в качестве источника другого пакета развертывания программного обеспечения.  

            - Местоположение источника пакета можно изменить в свойствах пакета развертывания после того, как Configuration Manager создаст пакет развертывания. В этом случае необходимо сначала скопировать содержимое из исходного расположения оригинального пакета в новое расположение источника пакета.  

            -  Учетной записи компьютера поставщика SMS и пользователю, работающему с мастером загрузки обновлений программного обеспечения, требуются разрешения на **запись** в папку загрузки. Ограничьте доступ к папке загрузки. Это ограничение позволяет снизить риск подмены злоумышленниками исходных файлов обновлений программного обеспечения.  

        -  **Приоритет передачи**. Укажите приоритет передачи для пакета развертывания. Configuration Manager использует этот приоритет при передаче пакета в точки распространения. Передача пакетов развертывания осуществляется в порядке приоритета: "Высокий", "Средний" и "Низкий". Пакеты с одинаковым приоритетом передаются в том порядке, в котором они были созданы. Если очередь пакетов отсутствует, обработка пакета выполняется незамедлительно, причем независимо от уровня приоритета.  

        - **Использовать двоичную дифференциальную репликацию**. Включите этот параметр, чтобы свести к минимуму сетевой трафик между сайтами. Двоичная дифференциальная репликация (BDR) обновляет только содержимое, которое изменилось в пакете, и не обновляет содержимое всего пакета. Дополнительные сведения см. в разделе [Двоичная дифференциальная репликация](../../core/plan-design/hierarchy/fundamental-concepts-for-content-management.md#binary-differential-replication).  

    - **Без пакета развертывания**. Начиная с версии 1806, обновления программного обеспечения можно развертывать на устройствах, предварительно не скачивая и не копируя их содержимое в точки распространения. Этот параметр рекомендуется использовать, если содержимое обновления очень большое. Также он полезен, если вы хотите, чтобы клиенты получали содержимое из облачной службы Центра обновления Майкрософт. Клиенты в этом сценарии также могут скачивать содержимое из кэширующих узлов, в которых оно уже есть. Клиент Configuration Manager по-прежнему управляет скачиванием содержимого, поэтому может использовать функцию однорангового кэша Configuration Manager или другие технологии, такие как оптимизация доставки. Эта функция поддерживает любой тип обновлений, поддерживаемый системой управления обновлениями ПО Configuration Manager, включая обновления для Windows и Office.<!--1357933-->  

        > [!Note]  
        > Если вы выберете этот вариант и примените параметры, изменить их будет нельзя. Другие параметры выделены серым цветом.<!--SCCMDocs-pr issue 3003-->  

12. На странице **Точки распространения** укажите точки распространения или группы точек распространения для размещения файлов обновления программного обеспечения. Дополнительные сведения о точках распространения см. в разделе [Distribution point configurations](../../core/servers/deploy/configure/install-and-configure-distribution-points.md#bkmk_configs). Этот страница доступна только при создании нового пакета развертывания обновлений программного обеспечения.  
  

13. На странице **Расположение загрузки** укажите, следует ли загружать файлы обновления программного обеспечения из Интернета или из локальной сети. Настройте следующие параметры.  

    -   **Скачать обновления программного обеспечения из Интернета**. Выберите этот параметр, чтобы скачать обновления программного обеспечения из Интернета. Этот параметр выбран по умолчанию.  

    -   **Скачать обновления программного обеспечения из папки в локальной сети**. Выберите этот параметр, чтобы загрузить обновления программного обеспечения из локального каталога или общей папки. Выберите этот параметр, если компьютер, на котором выполняется мастер, не имеет доступа к Интернету. На любом компьютере с доступом к Интернету поддерживается предварительная загрузка обновлений программного обеспечения. Затем сохраните обновления в папке в локальной сети, доступной с компьютера, на котором запущен мастер.  

14. На странице **Выбор языка** выберите языки, для которых сайт загружает выбранные обновления программного обеспечения. Сайт загружает обновления программного обеспечения только в том случае, если они доступны на выбранных языках. Обновления программного обеспечения, не зависящие от языка, загружаются в любом случае. По умолчанию мастер выбирает языки, настроенные вами в свойствах точки обновления программного обеспечения. Перед переходом к следующей странице необходимо выбрать по крайней мере один язык. Если ни один из выбранных языков не поддерживается обновлением, оно не загружается.  

15. Проверьте параметры на странице **Сводка** . Чтобы сохранить параметры в шаблоне развертывания, нажмите кнопку **Сохранить как шаблон**. Введите имя и выберите параметры, которые требуется включить в шаблон, а затем нажмите кнопку **Сохранить**. Чтобы изменить настроенный параметр, щелкните соответствующую страницу мастера и измените параметр.  

    -  Шаблон имени может состоять из буквенно-цифровых символов ASCII, а также из `\` (косая черта влево) или `'` (одиночные кавычки).  

16. Нажмите кнопку **Далее** , чтобы создать правило автоматического развертывания.  

После завершения работы мастера запускается правило автоматического развертывания. Оно добавляет обновления программного обеспечения, отвечающие указанным условиям, в группу обновлений программного обеспечения. Затем правило автоматического развертывания загружает обновления в библиотеку содержимого на сервере сайта и распространяет их на настроенные точки распространения. После этого правило автоматического развертывания развертывает группу обновлений программного обеспечения на клиентах в целевой коллекции.  



##  <a name="add-a-new-deployment-to-an-existing-adr"></a><a name="BKMK_AddDeploymentToADR"></a> Добавление нового развертывания в существующее правило автоматического развертывания  

После создания правила автоматического развертывания к нему можно добавить дополнительные развертывания. Это позволяет управлять сложным процессом развертывания различных обновлений для разных коллекций. Каждое новое развертывание имеет полный набор функций и средств мониторинга развертывания.  


### <a name="process-to-add-a-new-deployment-to-an-existing-adr"></a>Процесс добавления нового развертывания в существующее правило автоматического развертывания  

1.  В консоли Configuration Manager перейдите в рабочую область **Библиотека программного обеспечения**, разверните пункт **Обновления программного обеспечения** и выберите узел **Правила автоматического развертывания**, а затем нужное правило.  

2.  В ленте щелкните **Добавить развертывание**.   

3.  На странице **Коллекция** в мастере добавления развертывания настройте доступные параметры так же, как на странице **Общие** в мастере создания правил автоматического развертывания. Дополнительные сведения см. в предыдущем разделе о [процессе создания правила автоматического развертывания](#bkmk_adr-process). Остальная часть мастера добавления развертывания включает в себя следующие страницы, которые также совпадают с подробными описаниями выше:  

     - Параметры развертывания
     - Расписание развертывания
     - Действия пользователя
     - Предупреждения
     - Параметры скачивания  

Развертывания можно добавлять программно с помощью командлетов Windows PowerShell. Полное описание этого метода см. [здесь](https://docs.microsoft.com/powershell/module/configurationmanager/new-cmsoftwareupdatedeployment).

Дополнительные сведения о процессе развертывания см. в статье [Процесс развертывания обновлений программного обеспечения](../understand/software-updates-introduction.md#BKMK_DeploymentProcess).


## <a name="next-steps"></a>Дальнейшие шаги
[Мониторинг обновлений программного обеспечения](monitor-software-updates.md)
