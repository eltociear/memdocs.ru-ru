---
title: Устранение неполадок диспетчера преобразования пакетов
titleSuffix: Configuration Manager
description: Дополнительные сведения об устранении неполадок диспетчера преобразования пакетов в Configuration Manager.
ms.date: 08/24/2018
ms.prod: configuration-manager
ms.technology: configmgr-app
ms.topic: conceptual
ms.assetid: cb616925-bb94-4b7c-a867-b3d95aef4d5e
author: aczechowski
ms.author: aaroncz
manager: dougeby
ms.openlocfilehash: 05110714d3aa8ca48ff9384f0116338b0092fde1
ms.sourcegitcommit: a77ba49424803fddcaf23326f1befbc004e48ac9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/27/2020
ms.locfileid: "83877625"
---
# <a name="troubleshoot-package-conversion-manager"></a>Устранение неполадок диспетчера преобразования пакетов

*Область применения: Configuration Manager (Current Branch)*

<!--1357861-->

Используйте приведенные в этой статье сведения для устранения неполадок, возникающих при использовании диспетчера преобразования пакетов.



## <a name="sms-provider"></a>Поставщик SMS

Диспетчер преобразования пакетов использует поставщика SMS. Дополнительные сведения см. в разделе [Планирование использования поставщика SMS](../../core/plan-design/hierarchy/plan-for-the-sms-provider.md).

Если поставщик SMS работает неправильно, консоль Configuration Manager, включая диспетчер преобразования пакетов, не работает.



## <a name="package-readiness"></a>Готовность пакета

Перед преобразованием пакета в приложение проанализируйте его с помощью функции диспетчера преобразования пакетов **Анализ**. После анализа добавьте столбец **Готовность** в узел **Пакеты** консоли Configuration Manager. Список пакетов отображает одно из следующих состояний готовности проанализированного пакета.

- **Автоматически**. Пакет можно сразу преобразовать с помощью функции **Преобразовать**.      

  > [!NOTE]  
  > Автоматическое преобразование не преобразует язык запросов WMI в требования приложения. Чтобы преобразовать эти запросы, используйте процесс **Исправить и преобразовать**.  

- **Вручную**. Пакету требуются некоторые добавления или изменения перед преобразованием с помощью функции **Исправить и преобразовать**.  

- **Неприменимо**. Пакет не подходит для преобразования. Можно либо исправить ошибки в пакете, либо продолжить его развертывание в виде пакета.  

- **Ошибка** — пакет содержит ошибки. Исправьте эти ошибки вручную, а затем вы сможете его проанализировать и преобразовать.  

Область сведений узла **Пакеты** в консоли Configuration Manager отображает любые проблемы готовности. Выберите пакет, а затем выберите вкладку **Сводка** в области сведений.



## <a name="log-files"></a>Файлы журнала

### <a name="enable-logging"></a>Включение ведение журнала

При включении ведения журнала для диспетчера преобразования пакетов будут регистрироваться все действия, исключения и ошибки.

Чтобы включить ведение журнала для этого компонента в Configuration Manager, измените **Microsoft.ConfigurationManagement.exe.Config**. По умолчанию этот файл конфигурации можно найти по следующему пути.  
`C:\Program Files (x86)\Microsoft Endpoint Manager\AdminConsole\bin\Microsoft.ConfigurationManagement.exe.config`  

> [!IMPORTANT]
> Начиная с версии 1910, этот путь изменился и ведет в папку `Microsoft Endpoint Manager`. Убедитесь, что вы не используете файл старой версии, расположенный в другой папке.

Вставьте следующие **коммутаторы** и **трассировку** XML-элементов в элемент **system.diagnostics** после последнего элемента **Источники**.

``` XML
</sources>

    <switches>
      <add name="PcmLogging" value="3"/>
    </switches>
    <trace autoflush="true" indentsize="4">
      <listeners>
        <add name="PcmTraceListener" type="Microsoft.ConfigurationManagement.UserCentric.Logging.RolloverLogTraceListener, Microsoft.ConfigurationManagement.UserCentric.Logging" initializeData="%UserProfile%\AppData\Local\Temp\PcmTrace.log"/>
      </listeners>
    </trace>

</system.diagnostics>
```

В этом примере используется файл **PCMTrace.log**. Этот журнал находится на компьютере с консолью Configuration Manager по следующему пути.  
`%UserProfile%\AppData\Local\Temp`

Чтобы настроить уровень детализации, измените параметр переключателя трассировки **PcmLogging**. Установите это значение на четыре уровня детализации: от минимального (`1`) до максимального (`4`).


### <a name="smsprovlog"></a>SMSProv.log

В некоторых случаях сведения, относящиеся к устранению неполадок в процессе преобразования пакета, находятся в файле **SMSProv.log**. Этот файл собирает сведения от поставщика SMS Configuration Manager.

По умолчанию этот файл журнала находится на сайте сервера Configuration Manager по следующему пути.  
`C:\Program Files\Microsoft Configuration Manager\Logs`

Если отображается одно из следующих сообщений об ошибке, файл **SMSProv.log** может содержать важные сведения по устранению неполадок.

- `The SMS Provider reported an error`

- `Generic Failure`

Эти сообщения об ошибке обычно указывают на то, что произошла ошибка на сервере сайта и что сведения об ошибке не были отправлены в консоль Configuration Manager.

Дополнительные сведения см. в статье [Технический справочник по сообщениям об ошибках диспетчера преобразования пакетов](error-messages.md).



## <a name="changing-package-attributes-after-analysis"></a>Изменение атрибутов пакета после анализа

Если после анализа пакета его состояние готовности имеет значение **Автоматически** или **Вручную**, при изменении любого из соответствующих атрибутов процесс преобразования может завершиться сбоем.

Например, пакет проанализирован, и его состояние готовности — **Автоматически**. Затем вы добавляете в пакет другую программу. Процесс преобразования пакета может завершиться сбоем.

Если вам нужно внести изменения в пакет после анализа, перед преобразованием необходимо запустить анализ повторно. 



## <a name="see-also"></a>См. также

[Технический справочник по сообщениям об ошибках диспетчера преобразования пакетов](error-messages.md)
