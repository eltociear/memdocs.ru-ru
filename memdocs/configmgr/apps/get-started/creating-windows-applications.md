---
title: Создание приложений Windows
titleSuffix: Configuration Manager
description: Узнайте больше о создании и развертывании приложений Windows в Configuration Manager.
ms.date: 04/01/2020
ms.prod: configuration-manager
ms.technology: configmgr-app
ms.topic: conceptual
ms.assetid: 9181c84e-d74f-44ea-9bb9-f7805eb465fc
author: aczechowski
manager: dougeby
ms.author: aaroncz
ms.openlocfilehash: 9e59d850a78a8f45f93769003e7a1de99e5634b3
ms.sourcegitcommit: 214fb11771b61008271c6f21e17ef4d45353788f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2020
ms.locfileid: "82906385"
---
# <a name="create-windows-applications-in-configuration-manager"></a>Создание приложений Windows в Configuration Manager

*Область применения: Configuration Manager (Current Branch)*

Наряду с другими требованиями и процедурами Configuration Manager по [созданию приложения](../deploy-use/create-applications.md) необходимо принять во внимание приведенные ниже аспекты, касающиеся создания и развертывания приложений для устройств Windows.  

## <a name="general-considerations"></a><a name="bkmk_general"></a> Общие вопросы  

Configuration Manager поддерживает развертывание форматов пакетов приложения Windows (APPX) и пакетов приложений (APPXBUNDLE) для устройств Windows 8.1 и Windows 10.

При создании приложения в консоли Configuration Manager выберите **Тип** файла установки приложения: **пакет приложения Windows (\*.appx, \*.appxbundle, \*. msix, \*.msixbundle)** . См. дополнительные сведения о [создании приложений](../deploy-use/create-applications.md). См. дополнительные сведения о [поддержке формата MSIX](#bkmk_msix).

> [!Note]  
> Чтобы воспользоваться преимуществами новых функций Configuration Manager, сначала необходимо обновить клиенты до последней версии. Хотя новые функции появляются в консоли Configuration Manager после обновления ее и сайта, полный сценарий будет работать только с последней версией клиента.<!--SCCMDocs issue 646-->  

## <a name="provision-windows-app-packages-for-all-users-on-a-device"></a><a name="bkmk_provision"></a> Подготовка пакетов приложений Windows для всех пользователей на устройстве
<!--1358310-->
Подготовьте приложение в форме пакета приложений для Windows для всех пользователей устройства. Типичный пример этого сценария — подготовка приложения из Microsoft Store для бизнеса и для образовательных учреждений, такого как Minecraft: Education Edition, для всех устройств, используемых учащимися в школе. Раньше Configuration Manager поддерживал установку этих приложений только на отдельного пользователя. После входа на новое устройство учащемуся приходилось ждать, прежде чем он получал доступ к приложению. Теперь, когда приложение подготавливается на устройстве для всех пользователей, они могут быстрее приступать к работе.

> [!Important]  
> Если вы устанавливаете, подготавливаете и обновляете разные версии одного и того же пакета приложений для Windows на устройстве, будьте осторожны: результаты могут быть непредвиденными. Это может происходить, если приложение было подготовлено с помощью Configuration Manager, а затем пользователям было разрешено обновлять его из Microsoft Store. Дополнительные сведения см. в разделе "Дальнейшие действия" статьи [Управление приложениями из Магазина Майкрософт для бизнеса](../deploy-use/manage-apps-from-the-windows-store-for-business.md#next-steps).  

При подготовке приложения с автономной лицензией Configuration Manager не разрешает Windows автоматически обновлять его из Microsoft Store.  

Configuration Manager поддерживает подготовку приложений во всех поддерживаемых версиях Windows 10.<!--SCCMDocs-pr issue 2762-->

<!--
- Install action: Windows 10, version 1607 and later
- Uninstall action: Windows 10, version 1703 and later
-->

Чтобы настроить тип развертывания приложения Windows для этой функции, включите параметр **Подготовить это приложение для всех пользователей на устройстве**. Дополнительные сведения см. в статье [Создание приложений](../deploy-use/create-applications.md).

> [!Note]  
> Если вам нужно удалить подготовленное приложение с устройств, на которые пользователи уже выполнили вход, вам нужно создать два удаляемых развертывания. Первое из них должно быть предназначено для коллекции устройств, содержащей устройства. Второе должно быть предназначено для коллекции пользователей, содержащей пользователей, которые уже выполнили вход на устройства с подготовленным приложением. При удалении подготовленного приложения с устройства система Windows в настоящее время не удаляет это приложение для пользователей.

## <a name="support-for-msix-format"></a><a name="bkmk_msix"></a> Поддержка формата MSIX
<!--1357427-->

Configuration Manager поддерживает новые форматы пакета приложения Windows 10 (MSIX) и пакетов приложений (MSIXBUNDLE). Windows 10 1809 или более поздней версии поддерживает эти форматы.

- Обзор MSIX см. в статье [A closer look at MSIX](https://docs.microsoft.com/archive/blogs/sgern/a-closer-look-at-msix) (Подробное знакомство с MSIX).  

- Сведения о том, как создать приложение MSIX, см. в статье [MSIX support introduced in Insider Build 17682](https://techcommunity.microsoft.com/t5/MSIX-Blog/MSIX-support-introduced-in-Insider-Build-17682/ba-p/202376) (В сборку Insider 17682 добавлена поддержка MSIX).  

### <a name="convert-applications-to-msix"></a>Преобразование приложений в формат MSIX
<!--3607729, fka 1359029-->

Преобразуйте существующие приложения установщика Windows (MSI) в формат MSIX.

#### <a name="prerequisites-for-msix"></a>Предварительные требования для MSIX

- Требуется эталонное устройство под управлением Windows 10 версии 1809 и выше.  

- Войдите в Windows на этом устройстве от имени пользователя с правами локального администратора  

- Установите на устройстве следующие приложения:  

  - Консоль Configuration Manager  

  - Установите [средство упаковки MSIX](https://www.microsoft.com/store/productId/9N5LW3JBCXKF) из Microsoft Store  

  - Установите [драйвер средства упаковки MSIX](https://docs.microsoft.com/windows/msix/packaging-tool/tool-known-issues#frameworks-and-drivers)<!--SCCMDocs-pr issue #3091-->  

Не устанавливайте на этом устройстве другие приложения или службы. Оно будет выполнять роль эталонной системы.

#### <a name="process-to-convert-applications-to-msix-format"></a>Процесс преобразования приложений в формат MSIX

1. В консоли Configuration Manager с повышенными привилегиями перейдите в рабочую область **Библиотека программного обеспечения**, разверните узел **Управление приложениями** и щелкните **Приложения**.  

2. Выберите приложение с типом развертывания установщика Windows (MSI).  

    > [!Note]  
    > У вас должна быть возможность обращаться к содержимому источника приложения с эталонного устройства.  
    >
    > Имя приложения не может содержать специальные символы. Configuration Manager использует имя приложения как имя выходного файла.  
    >
    > Не устанавливайте это приложение на эталонном устройстве заранее.  

3. Выберите на ленте действие **Преобразовать в .MSIX**.

Когда работа мастера завершится, средство упаковки MSIX создаст MSIX-файл в расположении, которое вы указали в мастере. В ходе этого процесса Configuration Manager установит приложение на эталонном устройстве без дополнительных запросов.

Если этот процесс завершится сбоем, на странице сводной информации появится ссылка на файл журнала с подробными сведениями. Если произойдет ошибка при получении состояния пользователя, выйдите из Windows. Возможно, после повторного входа в систему проблема исчезнет.

Для использования созданного приложения MSIX необходимо снабдить его цифровой подписью, чтобы настроить доверие клиентов. См. дополнительные сведения:

- [MSIX — средство упаковки MSIX — подписывание пакета MSIX](https://docs.microsoft.com/archive/blogs/sgern/msix-the-msix-packaging-tool-signing-the-msix-package)
- [How to sign an app package using SignTool](https://docs.microsoft.com/windows/desktop/appxpkg/how-to-sign-a-package-using-signtool) (Подписывание пакета приложения с помощью SignTool)

После входа в приложение создайте тип развертывания для приложения в Configuration Manager. Дополнительные сведения см. в разделе [Создание типов развертывания для приложения](../deploy-use/create-applications.md#bkmk_create-dt).

## <a name="task-sequence-deployment-type"></a><a name="bkmk_tsdt"></a> Тип развертывания последовательности задач

<!--3555953-->

> [!Note]  
> В этой версии Configuration Manager тип развертывания последовательности задач является функцией предварительного выпуска. Сведения о ее включении см. в разделе [Функции предварительной версии](../../core/servers/manage/pre-release-features.md).  

Начиная с версии 2002, вы можете устанавливать сложные приложения в последовательностях задач с помощью модели приложения. Добавьте тип развертывания последовательности задач в приложение для его установки или удаления. Тип развертывания предоставляет следующие возможности.

<!-- - Deploy an app task sequence to a user collection -->

- Отображение последовательности задач приложения со значком в центре программного обеспечения. Значок упрощает для пользователей поиск и определение последовательность задач приложения.

- Определение дополнительных метаданных для последовательности задач приложения, включая локализованные данные.

Последовательность задач развертывания, не относящихся к ОС, можно добавить только как тип развертывания для приложения. Последовательности задач со значительным влиянием для развертывания ОС или обновления ОС не поддерживаются. <!--A user-targeted deployment still runs in the user context of the local System account.-->

При добавлении этого типа развертывания в приложение настройте его свойства на странице **Последовательность задач**. Дополнительные сведения см. в разделе [Параметры типа развертывания **Последовательность задач**](../deploy-use/create-applications.md#bkmk_dt-ts).

### <a name="prerequisites-for-a-task-sequence-deployment-type"></a>Предварительные требования для типа развертывания последовательности задач

Создание настраиваемой последовательности задач.

- Используйте только шаги развертывания, не касающиеся ОС, например: **Установить пакет**, **Выполнить из командной строки** или **Запустить скрипт PowerShell**. Дополнительные сведения, включая полный список поддерживаемых действий, см. в разделе [Создание последовательности задач для развертываний, не затрагивающих ОС](../../osd/deploy-use/create-a-task-sequence-for-non-operating-system-deployments.md).

- В свойствах последовательности задач на вкладке **Уведомление пользователя** не выбирайте параметр последовательности задач со значительным влиянием.

<!-- - If you use the **Install Application** step in the task sequence, don't add an app to that step that has a task sequence deployment type. -->

При создании приложения для добавления типа развертывания последовательности задач учетной записи пользователя требуется разрешение на чтение последовательностей задач.<!-- 6348976 --> Выберите один из следующих параметров для настройки разрешений.

- Добавьте учетную запись администратора приложений во встроенную роль **Аналитик (только чтение)** . Эта роль позволяет просматривать все объекты Configuration Manager.

- Чтобы создать настраиваемую роль, скопируйте встроенную роль **Администратор приложений**. Добавьте разрешение **Чтение** для объекта **Пакет последовательности задач**.

### <a name="known-issues-for-a-task-sequence-deployment-type"></a>Известные проблемы типа развертывания последовательности задач

- Развертывание последовательности задач приложения в коллекции пользователей по-прежнему не поддерживается

- Не используйте шаг **Установка приложения** в этой последовательности задач. Используйте шаг [Установка пакета](../../osd/understand/task-sequence-steps.md#BKMK_InstallPackage) для установки приложений.

## <a name="support-for-universal-windows-platform-uwp-apps"></a><a name="bkmk_uwp"></a> Поддержка приложений универсальной платформы Windows (UWP)  

Устройствам Windows 10 не нужен ключ для загрузки неопубликованных приложений, чтобы устанавливать бизнес-приложения. Чтобы включить передачу данных на другое локальное устройство Windows, раздел реестра `HKEY_LOCAL_MACHINE\Software\Policies\Microsoft\Windows\Appx\AllowAllTrustedApps` должен иметь значение **1**.  

Если вы не настраиваете этот раздел реестра, Configuration Manager автоматически присваивает этому параметру значение **1** при первом развертывании приложения на устройстве. Если вы задали значение **0**, то Configuration Manager не может автоматически изменить его, а развертывание бизнес-приложений будет завершаться ошибкой.  

Используйте цифровую подпись для бизнес-приложений на универсальной платформе Windows. Используйте сертификат подписывания кода, который является доверенным на каждом устройстве, где развертывается приложение. Используйте сертификаты из PKI организации или приобретите сертификат у стороннего поставщика, если его общедоступный корневой сертификат уже является доверенным в Windows.  

Чтобы подписывать пакеты мобильных приложений, используйте следующую таблицу для определения типа сертификата подписывания кода для использования:

| Пакет  | Symantec  | Не Symantec  |
|---------|---------|---------|
| Универсальные **APPX**-пакеты на устройствах Windows 10 Mobile | Да | Да |
| **XAP**-пакеты | Да | Нет |
| **APPX**-пакеты, созданные для Windows Phone 8.1 для установки на устройствах Windows 10 Mobile | Да | Нет |

## <a name="deploy-windows-installer-apps-to-mdm-enrolled-windows-10-devices"></a><a name="bkmk_mdm-msi"></a> Развертывание приложений установщика Windows на зарегистрированных в MDM устройствах с Windows 10  

Тип развертывания **Установщик Windows через MDM (\*.msi)** позволяет создавать и развертывать приложения на основе установщика Windows для устройств под управлением Windows 10, зарегистрированных в MDM.  

При использовании этого типа развертывания необходимо учитывать следующее:

- Можно передать только один MSI-файл.  

- Configuration Manager использует код продукта файла и версию продукта для обнаружения приложения.  

- Windows использует режим перезапуска приложения по умолчанию. Configuration Manager не контролирует режим перезапуска приложения.  

- Пакеты MSI на уровне пользователя устанавливаются для одного пользователя.  

- Пакеты MSI на уровне компьютера устанавливаются для всех пользователей устройства.  

- Configuration Manager поддерживает обновление приложений. Коды продуктов MSI всех версий должны совпадать.  
