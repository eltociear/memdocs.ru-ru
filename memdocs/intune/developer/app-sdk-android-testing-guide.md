---
title: Руководство по тестированию пакета SDK приложений Microsoft Intune для Android
description: Руководство по тестированию Microsoft Intune App SDK для Android поможет вам протестировать приложение Android под управлением Intune.
keywords: Пакет SDK
author: Erikre
ms.author: erikre
manager: dougeby
ms.date: 05/26/2020
ms.topic: reference
ms.service: microsoft-intune
ms.subservice: developer
ms.localizationpriority: medium
ms.technology: ''
ms.assetid: 4ef8f421-9610-4d34-a464-cc02eb1578a9
ms.reviewer: aanavath
ms.suite: ems
search.appverid: MET150
ms.custom: ''
ms.collection: M365-identity-device-management
ms.openlocfilehash: 6875dc873d44b77a24fe68f637d9329c9f5e1d9c
ms.sourcegitcommit: 118587ddb31ce26b27801839db9b3b59f1177f0f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/29/2020
ms.locfileid: "84165606"
---
# <a name="microsoft-intune-app-sdk-for-android-testing-guide"></a>Руководство по тестированию пакета SDK приложений Microsoft Intune для Android

Это краткое руководство помогает разработчикам тестировать приложения Android, управляемые Intune.  

## <a name="prerequisite-test-accounts"></a>Требуемые учетные записи для тестирования
Вы можете создавать новые учетные записи с предварительно сформированными данными или без них. Создание новой учетной записи
1. Перейдите на сайт [Microsoft Demos](https://demos.microsoft.com/environments/create/tenant). 
2. [Настройте Intune](../fundamentals/setup-steps.md), включив управление мобильными устройствами (MDM).
3. Проведите [создание пользователей](../fundamentals/users-add.md).
4. [Создание групп](../fundamentals/groups-add.md).
5. [Назначьте лицензии](../fundamentals/licenses-assign.md) соответствующим образом для тестирования.


## <a name="azure-portal-policy-configuration"></a>Настройка портала политик Azure
На [портале Azure во вкладке Intune](../apps/app-protection-policies.md)[создайте и назначьте политики защиты приложений](https://portal.azure.com/?feature.customportal=false#blade/Microsoft_Intune_Apps/MainMenu/14/selectedMenuItem/Overview). Вы также можете создать и назначить [политику конфигурации приложений](../apps/app-configuration-policies-overview.md) в колонке Intune.

> [!NOTE]
> Если вашего приложения нет на портале Azure, вы можете выбрать его как целевое для политики, выбрав параметр **Дополнительные приложения** и указав имя пакета в текстовом поле.

## <a name="test-cases"></a>Тестовые случаи

Шаги настройки и подтверждения описаны в следующих тестовых случаях. Используйте это руководство для устранения проблем приложений для Android, управляемых Intune.

### <a name="required-pin-and-corporate-credentials"></a>Требовать PIN-код и корпоративные учетные данные

Вы можете требовать ПИН-код для доступа к корпоративным ресурсам. Кроме того, можно принудительно включить корпоративную проверку подлинности, прежде чем пользователи смогут использовать управляемые приложения. Вот что нужно сделать.

1. Для параметров **Требовать ПИН-код для доступа** и **Требовать для доступа учетные данные организации** установите значение **Да**. Дополнительные сведения см. в статье [Параметры политики защиты приложений Android в Microsoft Intune](../apps/app-protection-policy-settings-android.md#access-requirements).
2. Убедитесь в следующем:
    - При запуске приложений выводится запрос на ввод ПИН-кода или данных рабочей учетной записи пользователя, которая использовалась во время регистрации с помощью корпоративного портала.
    - Отсутствие такого запроса может быть вызвано неправильной настройкой манифеста Android, конкретно — значений для интеграции Библиотеки проверки подлинности Active Directory (ADAL) (SkipBroker, ClientID и Authority).
    - Сбой вывода запроса может возникать из-за неправильно интегрированного значения `MAMActivity`. Дополнительные сведения о `MAMActivity` см. в разделе [Руководство по пакету SDK для приложений Microsoft Intune для разработчиков под Android](app-sdk-android.md).

> [!NOTE] 
> Если предыдущий тест не работает, то, скорее всего, произойдет сбой следующих тестов. Проверьте интеграцию [SDK](app-sdk-android.md#sdk-integration) и [ADAL](app-sdk-android.md#configure-azure-active-directory-authentication-library-adal).

### <a name="restrict-transferring-and-receiving-data-with-other-apps"></a>Ограничьте обмен данных с другими приложениями
Управлять передачей данных между корпоративными управляемыми приложениями можно следующим образом:

1. Задайте параметр **Разрешить приложению передавать данные в другие приложения** как **Приложения, управляемые политикой**.
2. Для поля **Разрешить приложению принимать данные от других приложений** установите значение **Все приложения**. Эти политики повлияют на использование намерений и поставщиков содержимого.
3. Убедитесь в следующем:
    - Открытие вашего приложения из неуправляемого приложения работает правильно.
    - Допускается обмен содержимым между управляемыми приложениями.
    - Передавать данные из управляемых приложений в неуправляемые (например, Chrome) запрещено.

### <a name="restrict-cut-copy-and-paste"></a>Блокировать вырезание, копирование и вставку
Можно ограничить буфер обмена системы для управляемых приложений таким образом:

1. Задайте параметр **Ограничить вырезание, копирование и вставку данных между приложениями** как **Управляемые политикой со вставкой из буфера**.
2. Убедитесь в следующем:
    - Копирование текста из вашего приложения в неуправляемое приложение (например, "Сообщения") блокируется.

### <a name="prevent-save"></a>Запрет сохранения
Вы можете управлять функцией **Сохранить как**, как показано ниже:

1. Если вашему приложению требуются [Интегрированные элементы управления "Сохранить как"](app-sdk-android.md#example-determine-if-saving-to-device-or-cloud-storage-is-permitted), задайте для параметра **Запретить "Сохранить как"** значение **Да**.
2. Убедитесь в следующем:
    - Сохранение ограничивается только соответствующими управляемыми расположениями.

### <a name="file-encryption"></a>Шифрование файлов
Вы можете шифровать данные на устройстве таким образом:

1. Задайте параметр **Шифрование данных приложения** как **Да**.
2. Убедитесь в следующем:
    - Это не влияет на нормальную работу приложения.

### <a name="prevent-android-backups"></a>Запрет резервного копирования для Android
Резервное копирование в приложении можно контролировать таким образом:

1. Если вы задали [интегрированные ограничения на резервное копирование](app-sdk-android.md#protecting-backup-data), задайте для параметра **Запретить резервное копирование на Android** значение **Да**.
2. Убедитесь в следующем:
    - Резервные копии запрещены.

### <a name="unenrollment"></a>Отмена регистрации
Вы можете выполнить удаленную очистку управляемых приложений от корпоративной электронной почты и документов, при которой личные данные расшифровываются в том случае, если устройство больше не под управлением. Вот что нужно сделать.

1. На портале Azure [запустите очистку](../apps/apps-selective-wipe.md).
2. Если приложение не регистрирует обработчики очистки, убедитесь что:
    - Происходит полная очистка приложения.
3. Если ваше приложение зарегистрировано для `WIPE_USER_DATA` или `WIPE_USER_AUXILARY_DATA`, убедитесь в следующем:
    - Управляемое содержимое удалено из приложения. Дополнительные сведения см. в [руководстве по пакету SDK для приложений Intune для разработчиков под Android — выборочная очистка](app-sdk-android.md#selective-wipe).

### <a name="multi-identity-support"></a>Поддержка множественных удостоверений
Интеграция [поддержки множественной идентификации](app-sdk-android.md#multi-identity-optional) отличается высоким уровнем риска, поэтому ее необходимо тщательно проверить. Наиболее распространенные проблемы могут возникать из-за неправильной настройки удостоверений (контекст и уровень угрозы), а также отслеживания файлов (`MAMFileProtectionManager`).

Как минимум, убедитесь, что:

- Политика **Сохранить как** для управляемых удостоверений работает правильно.
- Копирование и вставка между управляемыми и личными приложениями ограничены правильно.
- Шифруются только данные, относящиеся к управляемым удостоверениям, а личные файлы не изменяются.
- Выборочная очистка во время отмены регистрации удаляет лишь данные управляемого удостоверения.
- Пользователю предлагается условный запуск при переходе с неуправляемой на управляемую учетную запись (только в первый раз).

### <a name="app-configuration-optional"></a>Конфигурация приложений (необязательно)
Поведение управляемых приложений можно настроить так: Если приложение использует какие-либо параметры конфигурации приложений, следует проверить, что приложение правильно обрабатывает все значения, которые вы (администратор) могли задать. Вы можете создавать и назначать [политики конфигурации приложений](../apps/app-configuration-policies-overview.md) в Intune.

## <a name="next-steps"></a>Дальнейшие действия

- [Добавление в Microsoft Intune бизнес-приложения Android](../apps/lob-apps-android.md)
