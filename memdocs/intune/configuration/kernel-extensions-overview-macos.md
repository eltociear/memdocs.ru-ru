---
title: Создание расширений ядра и системы macOS с помощью Microsoft Intune — Azure | Документация Майкрософт
titleSuffix: ''
description: Добавьте или создайте профиль устройства macOS, который настраивает расширения ядра или системы, чтобы разрешить пользователям переопределять или добавлять идентификатор группы, а также добавлять идентификатор пакета и группы в Microsoft Intune.
keywords: ''
author: MandiOhlinger
ms.author: mandia
manager: dougeby
ms.date: 05/07/2020
ms.topic: how-to
ms.service: microsoft-intune
ms.subservice: configuration
ms.localizationpriority: medium
ms.technology: ''
ms.reviewer: annovich
ms.suite: ems
search.appverid: MET150
ms.custom: intune-azure
ms.collection: M365-identity-device-management
ms.openlocfilehash: fce8218c9f8fb8757f0aef892f0854f1c386a8bd
ms.sourcegitcommit: 302556d3b03f1a4eb9a5a9ce6138b8119d901575
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/27/2020
ms.locfileid: "83990302"
---
# <a name="add-macos-system-and-kernel-extensions-in-intune"></a>Добавление расширений ядра и системы macOS в Intune

> [!NOTE]
> Расширения ядра macOS заменяются системными расширениями. Дополнительные сведения см. в разделе [Совет по поддержке: использование системных расширений вместо расширений ядра для macOS Catalina 10.15 в Intune](https://techcommunity.microsoft.com/t5/intune-customer-success/support-tip-using-system-extensions-instead-of-kernel-extensions/ba-p/1191413).

На устройствах macOS можно добавлять расширения ядра и системы. Как расширения ядра, так и системные расширения позволяют пользователям устанавливать расширения приложений, расширяющие собственные возможности операционной системы. Расширения ядра выполняют свой код на уровне ядра. Расширения системы работают в строго контролируемом пространстве пользователя.

Чтобы добавить расширения, которые всегда разрешены для загрузки на ваших устройствах, используйте Microsoft Intune. Intune использует "профили конфигурации" для создания и настройки этих параметров для вашей организации. После добавления этих компонентов в профиль вы сможете отправлять или развертывать этот профиль на устройствах macOS в своей организации.

В этой статье описываются расширения ядра и системы. Здесь также показывается, как создать профиль конфигурации устройства с помощью расширений в Intune.

## <a name="system-extensions"></a>Расширения системы

Расширения системы выполняются в пространстве пользователя и не имеют доступа к ядру. Цель заключается в повышении безопасности, предоставлении пользователям большей степени контроля и ограничении атак на уровне ядра. Эти расширения могут быть:

- расширениями драйверов, включая драйверы для USB, сетевых карт (NIC), последовательных контроллеров и устройств HID;
- расширениями сети, включая фильтры содержимого, прокси-серверы DNS и VPN-клиенты;
- расширениями безопасности конечных точек, включая обнаружение и устранение угроз на конечных точках и антивирусные программы.

Расширения системы входят в пакет приложения и устанавливаются из приложения.

Дополнительные сведения о расширениях системы см. в разделе [Расширения системы](https://developer.apple.com/documentation/systemextensions) (на веб-сайте Apple).

## <a name="kernel-extensions"></a>Расширения ядра

Расширения ядра добавляют компоненты на уровне ядра. Эти функции обращаются к частям операционной системы, к которым обычные программы не имеют доступа. Ваша организация может иметь особые потребности или требования, которые недоступны в приложении, функции устройства и т. д.

Например, у вас есть программа поиска вирусов, которая сканирует устройство на наличие вредоносного содержимого. Расширение ядра программы поиска вирусов можно добавить как допустимое расширение ядра в Intune. Затем назначьте расширение для устройств macOS.

С помощью этой функции администраторы могут разрешить пользователям переопределять расширения ядра, добавлять идентификаторы команд, а также добавлять определенные расширения ядра в Intune.

Дополнительные сведения о расширениях ядра см. в разделе [Расширения ядра](https://developer.apple.com/library/archive/documentation/Darwin/Conceptual/KernelProgramming/Extend/Extend.html) (на веб-сайте Apple).

## <a name="prerequisites"></a>Предварительные условия

- Данная функция применяется к:

  - macOS 10.13.2 и более поздних версий (расширения ядра)
  - macOS 10.15 и более поздних версий (расширения системы)

  В версиях macOS от 10.15 до 10.15.4 расширения ядра и расширения системы могут выполняться параллельно.

- Для использования этой функции устройства должны быть:

  - Зарегистрированы в Intune с помощью программы регистрации устройств (DEP) Apple. Дополнительные сведения см. в разделе [Автоматическая регистрация устройств macOS](../enrollment/device-enrollment-program-enroll-macos.md).

    ИЛИ

  - Зарегистрированы в Intune с "регистрацией, утвержденной пользователем" (термин Apple). Дополнительные сведения см. в разделе [Подготовка к изменениям в расширениях ядра в macOS High Sierra](https://support.apple.com/en-us/HT208019) (на веб-сайте Apple).

## <a name="what-you-need-to-know"></a>Что необходимо знать

- Можно добавлять устаревшие расширения ядра и системы без подписи.
- Обязательно вводите правильный идентификатор группы и идентификатор пакета расширения. Intune не проверяет введенные значения. Если ввести неправильную информацию, расширение не будет работать на устройстве. Длина идентификатора команды составляет 10 буквенно-цифровых символов.

> [!NOTE]
> Корпорация Apple опубликовала информацию о подписывании и заверении для всего программного обеспечения. В macOS 10.14.5 и более поздних версиях расширения ядра, развернутые с помощью Intune, не должны соответствовать политике заверения Apple.
>
> Сведения об этой политике заверения и любых обновлениях и изменениях политики см. в следующих ресурсах:
>
> - [Заверение приложения перед распространением](https://developer.apple.com/documentation/security/notarizing_your_app_before_distribution) (на веб-сайте Apple) 
> - [Подготовка к изменениям в расширениях ядра в macOS High Sierra](https://support.apple.com/en-us/HT208019) (на веб-сайте Apple)

## <a name="create-the-profile"></a>Создание профиля

1. Войдите в [Центр администрирования Microsoft Endpoint Manager](https://go.microsoft.com/fwlink/?linkid=2109431).
2. Выберите **Устройства** > **Профили конфигурации** > **Создать профиль**.
3. Укажите следующие свойства.

    - **Платформа**. Выберите **macOS**
    - **Профиль**. Выберите **Расширения**.

4. Щелкните **Создать**.
5. В разделе **Основные** укажите следующие свойства.

    - **Имя** — Введите описательное имя для политики. Назначьте имена политикам, чтобы их можно было легко найти в последствии. Например, хорошее имя политики — **macOS: добавление поиска вирусов в расширения ядра на устройствах**.
    - **Описание**. Введите описание политики. Этот параметр является необязательным, но мы рекомендуем его использовать.

6. Выберите **Далее**.

7. В разделе **Параметры конфигурации** настройте параметры:

    - [macOS](kernel-extensions-settings-macos.md)

8. Выберите **Далее**.
9. В поле **Теги области** (необязательно) назначьте тег для фильтрации профиля по конкретным ИТ-группам, например `US-NC IT Team` или `JohnGlenn_ITDepartment`. Дополнительные сведения о тегах области см. в разделе [Использование RBAC и тегов области для распределенных ИТ-групп](../fundamentals/scope-tags.md).

    Выберите **Далее**.

10. В поле **Назначения** выберите пользователей или группы, которые будет принимать ваш профиль. Дополнительные сведения о назначении профилей см. в статье [Назначение профилей пользователей и устройств](device-profile-assign.md).

    Выберите **Далее**.

11. В окне **Проверка и создание** проверьте параметры. При выборе **Создать** внесенные изменения сохраняются и назначается профиль. Политика также отображается в списке профилей.

## <a name="next-steps"></a>Дальнейшие шаги

Созданный профиль готов к назначению. Далее [назначьте профиль](device-profile-assign.md) и [отслеживайте его состояние](device-profile-monitor.md).
