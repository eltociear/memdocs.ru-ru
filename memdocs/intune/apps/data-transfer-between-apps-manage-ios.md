---
title: Управление передачей данных между приложениями iOS
titleSuffix: Microsoft Intune
description: Как использовать политики управления мобильными приложениями в Microsoft Intune для управления передачей данных между приложениями.
keywords: ''
author: Erikre
ms.author: erikre
manager: dougeby
ms.date: 01/09/2020
ms.topic: conceptual
ms.service: microsoft-intune
ms.subservice: apps
ms.localizationpriority: high
ms.technology: ''
ms.assetid: d10b2d64-8c72-4e9b-bd06-ab9d9486ba5e
ms.reviewer: aanavath
ms.suite: ems
search.appverid: MET150
ms.custom: intune-azure
ms.collection: M365-identity-device-management
ms.openlocfilehash: d838260f0a4961302b24486474eec74b4cacd23e
ms.sourcegitcommit: 3d895be2844bda2177c2c85dc2f09612a1be5490
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/13/2020
ms.locfileid: "79343951"
---
# <a name="how-to-manage-data-transfer-between-ios-apps-in-microsoft-intune"></a>Как управлять передачей данных между приложениями iOS в Microsoft Intune

Чтобы защитить данные компании, разрешите передачу файлов только в приложения, которыми вы управляете. Управление приложениями iOS можно осуществлять указанными далее способами.

- Защитите данные организации для рабочих или учебных учетных записей, настроив политику защиты приложений. Такие приложения называются *приложениями, управляемыми политикой*.  См. [полный список управляемых приложений Intune, которыми можно управлять с помощью политики защиты приложений](https://www.microsoft.com/cloud-platform/microsoft-intune-apps).

- Развертывайте приложения и управляйте ими с помощью управления устройствами iOS, которое требует, чтобы устройства были зарегистрированы в решении управления мобильными устройствами (MDM). Это могут быть *приложения, управляемые политикой*, или другие управляемые приложения iOS.

Функция **Открыть в режиме управления** для зарегистрированных устройств iOS позволяет ограничить передачу файлов между приложениями, управляемыми iOS. Задайте ограничения функции *Открыть в режиме управления* в параметрах конфигурации и разверните их с помощью решения MDM.  Когда пользователь устанавливает развернутое приложение, применяются заданные ограничения.

## <a name="use-app-protection-with-ios-apps"></a>Использование защиты приложений с приложениями iOS
Политики защиты приложений работают вместе с функцией iOS **Открыть в режиме управления**, чтобы защитить данные компании в указанных далее случаях.

- **Устройства, не находящиеся под управлением какого-либо решения MDM.** Вы можете задать параметры политики защиты приложений, чтобы управлять совместным использованием данных другими приложениями с помощью расширений *Открыть в* или *Общий доступ*.  Чтобы сделать это, настройте для параметра **Send Org data to other app** (Отправка данных организации в другое приложение) значение **Приложения, управляемые политикой, с фильтрацией в "Открыть в"/"Поделиться"** .  Функция *Открыть в/общий доступ* в *управляемом политикой приложении* предоставляет в качестве варианта для общего доступа только другие *управляемые политикой приложения*. 

- **Устройства под управлением решения MDM.** У устройств, зарегистрированных в Intune или в сторонних решениях MDM, обмен данными между приложениями, к которым применяются политики защиты приложений, и другими управляемыми приложениями iOS, развернутыми с помощью MDM, регулируется политиками приложений Intune и такой функцией iOS, как **Открыть в режиме управления**. Чтобы связать приложения, развертываемые с помощью решения MDM, с политиками защиты приложений, определенными в Intune, необходимо настроить параметр UPN пользователя, как описано в следующем разделе о [настройке параметра UPN](data-transfer-between-apps-manage-ios.md#configure-user-upn-setting-for-microsoft-intune-or-third-party-emm). Чтобы указать, как данные должны передаваться другим приложениям, включите параметр **Отправлять данные организации в другие приложения** и выберите нужный уровень общего доступа. Чтобы указать, как приложение может получать данные от других приложений, включите параметр **Получать данные из других приложений** и выберите нужный уровень получения данных. Дополнительные сведения о получении и передаче данных приложения см. в разделе [Параметры перемещения данных](app-protection-policy-settings-ios.md#data-protection).

## <a name="configure-user-upn-setting-for-microsoft-intune-or-third-party-emm"></a>Настройка пользовательского параметра имени участника-пользователя для Microsoft Intune или стороннего решения EMM
Настройка пользовательского параметра имени участника-пользователя **обязательна** для устройств, которые управляются Intune или сторонним решением EMM для указания учетной записи зарегистрированного пользователя. Конфигурация UPN работает с политиками защиты приложений, развертываемыми из Intune. Ниже приведена общая процедура настройки параметра UPN и сведения о соответствующем взаимодействии с пользователем:

1. На [портале Azure](https://portal.azure.com)[создайте и назначьте политику защиты приложений](app-protection-policies.md) для iOS или iPadOS. Настройте параметры политики в соответствии с требованиями вашей организации и выберите приложения iOS, которые должны иметь эту политику.

2. Разверните приложения и профиль электронной почты, которые будут управляться с помощью Intune или стороннего решения MDM, выполнив следующие универсальные шаги. Эта процедура также показана в *примере 1*.

3. Разверните приложение, указав следующие параметры настройки приложений для управляемых устройств:

      **key** = IntuneMAMUPN, **value** = <username@company.com>

      Пример: [‘IntuneMAMUPN’, ‘janellecraig@contoso.com’]
      
     > [!NOTE]
     > В Intune политика Конфигурации приложений должна быть задана для типа регистрации **Управляемые устройства**.
     > Кроме того, приложение должно быть либо установлено с Корпоративного портала Intune, если доступно, либо отправлено на устройство как обязательное. 

4. Разверните политику **управления** на зарегистрированных устройствах с помощью Intune или стороннего поставщика MDM.


### <a name="example-1-admin-experience-in-intune-or-third-party-mdm-console"></a>Пример 1. Возможности администрирования в консоли Intune или стороннего решения MDM

1. Перейдите в консоль администрирования Intune или стороннего поставщика MDM. Перейдите в раздел консоли, в котором развертываются параметры настройки приложений на зарегистрированных устройствах с iOS.

2. В разделе "Настройка приложений" введите следующий параметр:

   **key** = IntuneMAMUPN, **value** = <username@company.com>

   Синтаксис пары "ключ-значение" может отличаться в зависимости от стороннего поставщика MDM. В следующей таблице показаны примеры сторонних поставщиков MDM и точные значения, которые следует ввести в качестве пары "ключ — значение".

   |Сторонний поставщик MDM| Раздел конфигурации | Тип значения | Значение конфигурации|
   | ------- | ---- | ---- | ---- |
   |Microsoft Intune| IntuneMAMUPN | Строка | {{UserPrincipalName}}|
   |VMware AirWatch| IntuneMAMUPN | Строка | {UserPrincipalName}|
   |MobileIron | IntuneMAMUPN | Строка | ${userUPN} **или** ${userEmailAddress} |
   |Управление конечными точками Citrix | IntuneMAMUPN | Строка | ${user.userprincipalname} |
   |ManageEngine Mobile Device Manager | IntuneMAMUPN | Строка | %upn% |

> [!NOTE]  
> Если при использовании Outlook для iOS/iPadOS вы развертываете политику Конфигурации приложений управляемых устройств с параметрами "Использование конструктора конфигурации" и **Разрешить только рабочие или учебные учетные записи**, ключ конфигурации IntuneMAMUPN будет настроен автоматически в фоновом режиме для политики. См. часто задаваемые вопросы о [политике Конфигураций приложений для Outlook в iOS и Android](https://techcommunity.microsoft.com/t5/Intune-Customer-Success/New-Outlook-for-iOS-and-Android-App-Configuration-Policy/ba-p/370481). 


### <a name="example-2-end-user-experience"></a>Пример 2: Взаимодействие с конечным пользователем

*Общий доступ из* управляемого политикой приложения *к другим приложениям с общим доступом к ОС*

1. Пользователь открывает приложение Microsoft OneDrive на зарегистрированном устройстве iOS и входит в свою рабочую учетную запись.  Учетная запись, в которую входит пользователь, должна соответствовать имени участника-пользователя учетной записи, указанному в параметрах конфигурации для приложения Microsoft OneDrive.

2. После выполнения входа параметры приложения, настроенные администратором, применяются к учетной записи пользователя в Microsoft OneDrive.  Сюда входит настройка значения **Приложения, управляемые политикой, с общим доступом к ОС** для параметра **Send Org data to other app** (Отправка данных организации в другое приложение).

3. Пользователь предварительно просматривает рабочий файл и пытается предоставить общий доступ через "Открыть в" для управляемого приложения iOS.  

4. Передача данных успешно завершена, и теперь данные защищены **функцией открытия в режиме управления** в управляемом приложении iOS.  Приложение Intune не применяется к приложениям, *не управляемым политикой*.

*Предоставление общего доступа из* управляемого приложения iOS*для*приложения, управляемого политикой *, с входящими данными организации*

1. Пользователь открывает собственную почту на зарегистрированном устройстве iOS с помощью управляемого профиля электронной почты.  

1. Пользователь открывает вложение в виде рабочего документа из собственной почты в Microsoft Word.

1. При запуске приложения Word возникает одна из двух ситуаций:
   1. Данные защищаются приложением Intune в следующих случаях:
      - Пользователь входит в рабочую учетную запись, которая соответствует имени участника-пользователя (UPN) учетной записи, указанного в параметрах конфигурации для приложения Microsoft Word. 
      - Параметры приложения, настроенные администратором, применяются к учетной записи пользователя в Microsoft Word.  Сюда входит настройка значения **Все приложения с входящими данными организации** для параметра **Получать данные из других приложений**.
      - Передача данных выполняется успешно, а документ помечается в приложении с использованием корпоративного удостоверения.  Приложение Intune защищает действия пользователя для документа.
   1. Данные **не** защищаются приложением Intune в следующих случаях:
      - Пользователь **не** вошел в рабочую учетную запись.
      - Настроенные администратором параметры **не** применяются к Microsoft Word, так как пользователь не вошел.
      - Передача данных выполняется успешно, а документ **не** помечается в приложении с использованием корпоративного удостоверения.  Приложение Intune **не** защищает действия пользователя для документа, так как пользователь неактивен.

    > [!NOTE]
    > Пользователь может добавить ее и использовать личные учетные записи в Word. Политики защиты приложений не применяются, если пользователь использует Word не для работы. 

### <a name="validate-user-upn-setting-for-third-party-emm"></a>Проверка пользовательского параметра UPN для стороннего решения EMM

После настройки пользовательского параметра UPN следует проверить, может ли приложение для iOS получать политики защиты приложений Intune и соответствует ли оно им.

Например, параметр политики **Требовать ПИН-код приложения** легко проверить. Если для параметра политики задано значение **Требовать**, пользователь увидит приглашение задать или ввести ПИН-код при попытке доступа к данным компании.

Сначала [создайте политику защиты приложений и назначьте ее](app-protection-policies.md) приложению iOS. Дополнительные сведения о тестировании политики защиты приложений см. в разделе [Проверка политик защиты приложений](app-protection-policies-validate.md).


## <a name="see-also"></a>См. также
[What is Intune app protection policy?](app-protection-policy.md)(Что такое политика защиты приложений в Intune)
